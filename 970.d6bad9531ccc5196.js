"use strict";(self.webpackChunkroxanne=self.webpackChunkroxanne||[]).push([[970],{8563:(K,I,m)=>{m.d(I,{U:()=>J});var c=m(4006),r=m(1427),A=m(2340),a=m(4650),R=m(6582),w=m(529),D=m(1481),B=m(8034),U=m(694),b=m(3848),P=m(9549),Z=m(4144),x=m(4859),E=m(6895),u=m(5232),d=m(4221);function F(M,v){if(1&M&&(a.TgZ(0,"span"),a._UZ(1,"i",26),a._uU(2," \u0110\u1ecba ch\u1ec9: "),a.TgZ(3,"span",27),a._uU(4),a.qZA()()),2&M){const f=a.oxw();a.xp6(4),a.Oqu(null==f.schedule?null:f.schedule.address)}}function y(M,v){if(1&M&&(a.TgZ(0,"span"),a._UZ(1,"i",26),a._uU(2," \u0110i\u1ec3m b\u1eaft \u0111\u1ea7u: "),a.TgZ(3,"span",27),a._uU(4),a.qZA()()),2&M){const f=a.oxw();a.xp6(4),a.Oqu(null==f.schedule?null:f.schedule.startingPlace)}}function q(M,v){if(1&M&&(a.TgZ(0,"span"),a._UZ(1,"i",28),a._uU(2," \u0110i\u1ec3m \u0111\u1ebfn: "),a.TgZ(3,"span",27),a._uU(4),a.qZA()()),2&M){const f=a.oxw();a.xp6(4),a.Oqu(null==f.schedule?null:f.schedule.headingPlace)}}function G(M,v){1&M&&a._UZ(0,"i",32)}function Y(M,v){1&M&&a._UZ(0,"i",33)}function Q(M,v){1&M&&a._UZ(0,"i",34)}function W(M,v){if(1&M&&(a.TgZ(0,"span"),a.YNc(1,G,1,0,"i",29),a.YNc(2,Y,1,0,"i",30),a.YNc(3,Q,1,0,"i",31),a.qZA()),2&M){const f=a.oxw();a.xp6(1),a.Q6J("ngIf",f.isMovingContactPresent),a.xp6(1),a.Q6J("ngIf",f.isPlanePresent),a.xp6(1),a.Q6J("ngIf",f.isTrainPresent)}}function _(M,v){if(1&M&&a._UZ(0,"app-validation",35),2&M){const f=a.oxw();a.Q6J("formGroup",f.setTourForm)("formGroupControlName","name")}}function k(M,v){if(1&M&&a._UZ(0,"app-validation",35),2&M){const f=a.oxw();a.Q6J("formGroup",f.setTourForm)("formGroupControlName","address")}}function g(M,v){if(1&M&&a._UZ(0,"app-validation",35),2&M){const f=a.oxw();a.Q6J("formGroup",f.setTourForm)("formGroupControlName","email")}}function C(M,v){if(1&M&&a._UZ(0,"app-validation",35),2&M){const f=a.oxw();a.Q6J("formGroup",f.setTourForm)("formGroupControlName","phoneNumber")}}function S(M,v){if(1&M&&a._UZ(0,"app-validation",35),2&M){const f=a.oxw();a.Q6J("formGroup",f.setTourForm)("formGroupControlName","totalTicket")}}let J=(()=>{class M{constructor(f,s,i,t,h,V,o,p){this.fb=f,this._route=s,this.http=i,this.sanitizer=t,this.rendered2=h,this.messageService=V,this.elementRef=o,this.tokenStorageService=p,this.active=1,this.isSubmit=!1,this.scheduleId="",this.tourDescription="",this.isMovingContactPresent=!1,this.isTrainPresent=!1,this.isPlanePresent=!1,this.tourImage=[],this.ratingAverage=3,this.ratingArr=[],this.scheduleType="0",this.slides=[]}ngOnInit(){this.scheduleId=this._route.snapshot.paramMap.get("id")??"",this.scheduleType=this._route.snapshot.queryParamMap.get("schedule-type")??"";for(let f=0;f<5;f++)this.ratingArr.push(f);this.setTourForm=this.fb.group({name:["",c.kI.compose([c.kI.required])],address:["",c.kI.compose([c.kI.required])],email:["",c.kI.compose([c.kI.required])],phoneNumber:["",c.kI.compose([c.kI.required])],totalTicket:[1,c.kI.compose([c.kI.required,c.kI.min(1)])],totalChildTicket:[0,c.kI.compose([c.kI.required,c.kI.min(1)])],description:["",c.kI.compose([c.kI.required,c.kI.minLength(3)])]}),this.getScheduleImage(),this.getSchedule(),this.getAccount()}getDuration(){if(this.schedule?.startDate&&this.schedule?.endDate){const f=new Date(this.schedule?.startDate),s=new Date(this.schedule?.endDate),i=s.getTime()-f.getTime(),t=Math.ceil(i/864e5);if(1===t)return"1 ng\xe0y";if(t>1){const h=t-1;return s.getDate()!==f.getDate()+1?`${t} ng\xe0y ${h} \u0111\xeam`:`${t} ng\xe0y ${h+1} \u0111\xeam`}return"Trong ng\xe0y"}return"Trong ng\xe0y"}getSanitizedContent(f){return this.sanitizer.bypassSecurityTrustHtml(f)}getAccount(){if("User"==this.tokenStorageService.getUserRole()){const s={id:this.tokenStorageService.getUser().Id};this.http.post("/api/User/SelfGetUser",null,{params:s}).subscribe(i=>{i&&(this.user=i.data,this.setTourForm.controls.phoneNumber.setValue(this.user.phoneNumber),this.setTourForm.controls.email.setValue(this.user.email),this.setTourForm.controls.address.setValue(this.user.address),this.setTourForm.controls.name.setValue(this.user.fullName))})}}getSchedule(){var f="";"1"==this.scheduleType?f="/api/GetMovingSchedule/":"2"==this.scheduleType&&(f="/api/GetStayingSchedule/"),this.http.get(f+this.scheduleId).subscribe(s=>{this.schedule=s.data,this.tourDescription=this.schedule?.description??""})}getScheduleImage(){const f={resourceId:this.scheduleId,resourceType:parseInt(this.scheduleType)+2};this.http.get("/api/GetFile",{params:f}).subscribe(s=>{this.tourImage=s.data,this.tourImage.length>0&&this.pushImageToList(),console.log(s)})}pushImageToList(){let f=0;this.tourImage.forEach(s=>{f++,this.slides=[...this.slides,{url:A.N.backend.blobURL+"/"+this.scheduleType+"-container/"+this.scheduleType+"_"+s.id+s.fileType,title:"slide: "+f,description:"This is the slide "+f}]})}getTotalPrice(){return this.schedule?.singlePrice??0}getVehicleFlag(){void 0!==this.schedule&&"vehicleType"in this.schedule&&(0===this.schedule.vehicleType?this.isMovingContactPresent=!0:1===this.schedule.vehicleType?this.isPlanePresent=!0:2===this.schedule.vehicleType&&(this.isTrainPresent=!0))}register(){const f={guestName:this.setTourForm.value.name,email:this.setTourForm.value.email,phoneNumber:this.setTourForm.value.phoneNumber,totalTicket:this.setTourForm.value.totalTicket,totalChildTicket:this.setTourForm.value.totalChildTicket,scheduleId:this.scheduleId,scheduleType:this.scheduleType};this.messageService.openLoadingDialog(),this.http.post("/api/AddReceipt/client",f).subscribe(s=>{s&&(this.messageService.closeAllDialog(),this.messageService.openMessageNotifyDialog(s.messageCode))})}showIcon(f){return this.ratingAverage>=f+1?"star":"star_border"}getDateFormat(f){const s=null!=f?f.toString()??"":"",i=new Date(s),t=i.getDate(),h=i.getMonth()+1;return i.getFullYear(),i.getHours(),i.getHours(),`Ng\xe0y ${t} th\xe1ng ${h}`}getContainerName(){return 0===parseInt(this.scheduleType)?"eatschedule-content-container":1===parseInt(this.scheduleType)?"movingschedule-content-container":2===parseInt(this.scheduleType)?"stayingschedule-content-container":""}}return M.\u0275fac=function(f){return new(f||M)(a.Y36(c.qu),a.Y36(R.gz),a.Y36(w.eN),a.Y36(D.H7),a.Y36(a.Qsj),a.Y36(B.e),a.Y36(a.SBq),a.Y36(U.i))},M.\u0275cmp=a.Xpm({type:M,selectors:[["app-schedule-detail"]],viewQuery:function(f,s){if(1&f&&a.Gf(r.PG,5),2&f){let i;a.iGM(i=a.CRH())&&(s.editor=i.first)}},inputs:{data:"data"},decls:96,vars:16,consts:[[1,"container"],[1,"below-title"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-calendar"],["aria-hidden","true",1,"fa","fa-clock-o"],[1,"tour-description"],[2,"width","90% !important",3,"blobName","containerName","editable"],[1,"tour-name"],[1,"title"],["label","Gi\xe1 bao g\u1ed3m"],[1,"price-container"],[2,"font-weight","bold"],["label","Gi\xe1 kh\xf4ng bao g\u1ed3m"],["label","L\u01b0u \xfd"],[1,"register-container"],[1,"row","tour-register",2,"height","fit-content !important",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","create-form"],[1,"col-xs-12","col-sm-12","col-md-4","col-lg-4","create-form"],["appearance","outline",1,"full-width-input"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","name"],[3,"formGroup","formGroupControlName",4,"ngIf"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","address"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","email"],["matInput","","fullwidth","","placeholder","Vd: 123456789","formControlName","phoneNumber"],["matInput","","fullwidth","","placeholder","Vd: 2","formControlName","totalTicket"],["mat-flat-button","","color","primary",2,"width","100%",3,"click"],["aria-hidden","true",1,"fa","fa-map-marker"],[2,"font-weight","lighter"],["aria-hidden","true",1,"fa","fa-location-arrow"],["class","fa fa-bus","aria-hidden","true",4,"ngIf"],["class","fa fa-plane","aria-hidden","true",4,"ngIf"],["class","fa fa-train","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-bus"],["aria-hidden","true",1,"fa","fa-plane"],["aria-hidden","true",1,"fa","fa-train"],[3,"formGroup","formGroupControlName"]],template:function(f,s){if(1&f&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,F,5,1,"span",2),a.YNc(3,y,5,1,"span",2),a.YNc(4,q,5,1,"span",2),a.TgZ(5,"span"),a._UZ(6,"i",3),a._uU(7),a.qZA(),a.TgZ(8,"span"),a._UZ(9,"i",4),a._uU(10),a.qZA(),a.YNc(11,W,4,3,"span",2),a.qZA(),a.TgZ(12,"div",5),a._UZ(13,"app-tiny-mce-editor",6),a.qZA(),a.TgZ(14,"div",5)(15,"h4",7),a._uU(16,"H\u01b0\u1edbng d\u1eabn vi\xean"),a.qZA(),a._uU(17," H\u01b0\u1edbng D\u1eabn Vi\xean (HDV) s\u1ebd li\xean l\u1ea1c v\u1edbi Qu\xfd Kh\xe1ch kho\u1ea3ng 1 ng\xe0y tr\u01b0\u1edbc khi kh\u1edfi h\xe0nh \u0111\u1ec3 s\u1eafp x\u1ebfp gi\u1edd \u0111\xf3n v\xe0 cung c\u1ea5p c\xe1c th\xf4ng tin c\u1ea7n thi\u1ebft cho chuy\u1ec3n \u0111i. "),a.qZA(),a.TgZ(18,"div",5)(19,"div",8)(20,"h4",7),a._uU(21,"Chi ti\u1ebft gi\xe1"),a.qZA()(),a.TgZ(22,"mat-tab-group")(23,"mat-tab",9)(24,"div",10)(25,"p")(26,"span",11),a._uU(27,"T\u1ed5ng gi\xe1:"),a.qZA(),a._uU(28),a.qZA()()(),a.TgZ(29,"mat-tab",12)(30,"div",10)(31,"p"),a._uU(32," - V\u1edbi du l\u1ecbch n\u01b0\u1edbc ngo\xe0i: Y\xeau c\u1ea7u h\u1ed9 chi\u1ebfu ph\u1ea3i c\xf2n th\u1eddi h\u1ea1n s\u1eed d\u1ee5ng tr\xean 6 th\xe1ng, T\xednh t\u1eeb ng\xe0y kh\u1edfi h\xe0nh \u0111i v\xe0 v\u1ec1. "),a.qZA(),a.TgZ(33,"p"),a._uU(34," - H\xe0nh l\xfd qu\xe1 c\u01b0\u1edbc qui \u0111\u1ecbnh. Xe v\u1eadn chuy\u1ec3n ngo\xe0i ch\u01b0\u01a1ng tr\xecnh + C\xe1c show v\u1ec1 \u0111\xeam. "),a.qZA(),a.TgZ(35,"p"),a._uU(36," - \u0110i\u1ec7n tho\u1ea1i, gi\u1eb7t \u1ee7i, n\u01b0\u1edbc u\u1ed1ng trong ph\xf2ng kh\xe1ch s\u1ea1n v\xe0 c\xe1c chi ph\xed c\xe1 nh\xe2n kh\xe1c. "),a.qZA()()(),a.TgZ(37,"mat-tab",13)(38,"div",10)(39,"p"),a._uU(40,"- Tour du l\u1ecbch thu\u1ea7n t\xfay, Qu\xfd kh\xe1ch vui l\xf2ng kh\xf4ng r\u1eddi \u0111o\xe0n."),a.qZA(),a.TgZ(41,"p"),a._uU(42," - Du kh\xe1ch Vi\u1ec7t Ki\u1ec1u ho\u1eb7c n\u01b0\u1edbc ngo\xe0i ph\u1ea3i c\xf3 visa t\xe1i nh\u1eadp nhi\u1ec1u l\u1ea7n ho\u1eb7c mi\u1ec5n th\u1ecb th\u1ef1c 5 n\u0103m v\xe0 mang theo khi tham gia tour. "),a.qZA(),a.TgZ(43,"p"),a._uU(44," - Tr\u1ebb em d\u01b0\u1edbi 16 tu\u1ed5i ph\u1ea3i c\xf3 b\u1ed1 m\u1eb9 \u0111i c\xf9ng ho\u1eb7c ng\u01b0\u1eddi \u0111\u01b0\u1ee3c u\u1ef7 quy\u1ec1n c\xf3 gi\u1ea5y u\u1ef7 quy\u1ec1n t\u1eeb b\u1ed1 m\u1eb9. "),a.qZA(),a.TgZ(45,"p"),a._uU(46," - H\u1ed9 chi\u1ebfu ph\u1ea3i mang theo b\u1ea3n g\u1ed1c h\u1ee3p l\u1ec7 kh\xf4ng b\u1ecb r\u1ea1n, phai m\u1edd, v\xe0 c\xf2n th\u1eddi h\u1ea1n s\u1eed d\u1ee5ng tr\xean 6 th\xe1ng (t\xednh t\u1eeb ng\xe0y kh\u1edfi h\xe0nh). "),a.qZA(),a.TgZ(47,"p"),a._uU(48," - Kh\xf4ng s\u1eed d\u1ee5ng th\u1ebb xanh. N\u1ebfu s\u1eed d\u1ee5ng S\u1ed5 Du l\u1ecbch (y\xeau c\u1ea7u visa n\u01b0\u1edbc nh\u1eadp c\u1ea3nh), vui l\xf2ng th\xf4ng b\xe1o cho nh\xe2n vi\xean nh\u1eadn tour n\u1ebfu Qu\xfd kh\xe1ch s\u1eed d\u1ee5ng c\xe1c h\u1ed3 s\u01a1 kh\xe1c ngo\xe0i h\u1ed9 chi\u1ebfu. "),a.qZA(),a.TgZ(49,"p"),a._uU(50," - C\xf4ng ty du l\u1ecbch kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m n\u1ebfu Qu\xfd kh\xe1ch b\u1ecb t\u1eeb ch\u1ed1i nh\u1eadp c\u1ea3nh v\u1edbi b\u1ea5t k\u1ef3 l\xfd do n\xe0o t\u1eeb h\u1ea3i quan n\u01b0\u1edbc ngo\xe0i. "),a.qZA(),a.TgZ(51,"p"),a._uU(52," - C\xf4ng ty \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i l\u1ecbch tr\xecnh chuy\u1ebfn \u0111i v\xe0 s\u1eed d\u1ee5ng c\xe1c h\xe3ng h\xe0ng kh\xf4ng thay th\u1ebf, nh\u01b0ng v\u1eabn \u0111\u1ea3m b\u1ea3o tham quan \u0111\u1ea7y \u0111\u1ee7 c\xe1c \u0111i\u1ec3m theo ch\u01b0\u01a1ng tr\xecnh. "),a.qZA(),a.TgZ(53,"p"),a._uU(54," - Th\u1ee9 t\u1ef1 \u0111i\u1ec3m tham quan v\xe0 l\u1ed9 tr\xecnh c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo t\xecnh h\xecnh th\u1ef1c t\u1ebf, nh\u01b0ng v\u1eabn \u0111\u1ea3m b\u1ea3o \u0111\u1ea7y \u0111\u1ee7 c\xe1c \u0111i\u1ec3m tham quan nh\u01b0 ban \u0111\u1ea7u. "),a.qZA(),a.TgZ(55,"p"),a._uU(56," - Trong tr\u01b0\u1eddng h\u1ee3p b\u1ea5t kh\u1ea3 kh\xe1ng nh\u01b0 kh\u1ee7ng b\u1ed1, thi\xean tai ho\u1eb7c thay \u0111\u1ed5i l\u1ecbch tr\xecnh c\u1ee7a ph\u01b0\u01a1ng ti\u1ec7n c\xf4ng c\u1ed9ng (m\xe1y bay, t\xe0u h\u1ecfa...), C\xf4ng ty du l\u1ecbch gi\u1eef quy\u1ec1n \u0111i\u1ec1u ch\u1ec9nh l\u1ed9 tr\xecnh tour cho ph\xf9 h\u1ee3p v\xe0 an to\xe0n cho kh\xe1ch h\xe0ng, m\xe0 kh\xf4ng ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m b\u1ed3i th\u01b0\u1eddng thi\u1ec7t h\u1ea1i ph\xe1t sinh. "),a.qZA()()()()(),a.TgZ(57,"div",5)(58,"div",14)(59,"div",15)(60,"div",16)(61,"h4",7),a._uU(62,"\u0110\u1eb7t v\xe9 ngay"),a.qZA()(),a.TgZ(63,"div",17)(64,"mat-form-field",18)(65,"mat-label"),a._uU(66,"H\u1ecd & t\xean"),a.qZA(),a._UZ(67,"input",19),a.qZA(),a.YNc(68,_,1,2,"app-validation",20),a.qZA(),a.TgZ(69,"div",17)(70,"mat-form-field",18)(71,"mat-label"),a._uU(72,"\u0110\u1ecba ch\u1ec9"),a.qZA(),a._UZ(73,"input",21),a.qZA(),a.YNc(74,k,1,2,"app-validation",20),a.qZA(),a.TgZ(75,"div",17)(76,"mat-form-field",18)(77,"mat-label"),a._uU(78,"Email"),a.qZA(),a._UZ(79,"input",22),a.qZA(),a.YNc(80,g,1,2,"app-validation",20),a.qZA(),a.TgZ(81,"div",17)(82,"mat-form-field",18)(83,"mat-label"),a._uU(84,"S\u0111t li\xean l\u1ea1c"),a.qZA(),a._UZ(85,"input",23),a.qZA(),a.YNc(86,C,1,2,"app-validation",20),a.qZA(),a.TgZ(87,"div",17)(88,"mat-form-field",18)(89,"mat-label"),a._uU(90,"S\u1ed1 v\xe9"),a.qZA(),a._UZ(91,"input",24),a.qZA(),a.YNc(92,S,1,2,"app-validation",20),a.qZA(),a.TgZ(93,"div",16)(94,"button",25),a.NdJ("click",function(){return s.register()}),a._uU(95," G\u1eedi "),a.qZA()()()()()()),2&f){let i,t,h,V,o;a.xp6(2),a.Q6J("ngIf",void 0!==(null==s.schedule?null:s.schedule.address)),a.xp6(1),a.Q6J("ngIf",void 0!==(null==s.schedule?null:s.schedule.startingPlace)),a.xp6(1),a.Q6J("ngIf",void 0!==(null==s.schedule?null:s.schedule.headingPlace)),a.xp6(3),a.hij(" ",s.getDateFormat(null==s.schedule?null:s.schedule.startDate),""),a.xp6(3),a.hij(" ",s.getDuration(),""),a.xp6(1),a.Q6J("ngIf",void 0!==(null==s.schedule?null:s.schedule.vehicleType)),a.xp6(2),a.Q6J("blobName",s.scheduleId)("containerName",s.getContainerName())("editable",!1),a.xp6(15),a.hij(" ",s.getTotalPrice(),". "),a.xp6(31),a.Q6J("formGroup",s.setTourForm),a.xp6(9),a.Q6J("ngIf",null==(i=s.setTourForm.get("name"))?null:i.touched),a.xp6(6),a.Q6J("ngIf",null==(t=s.setTourForm.get("address"))?null:t.touched),a.xp6(6),a.Q6J("ngIf",null==(h=s.setTourForm.get("email"))?null:h.touched),a.xp6(6),a.Q6J("ngIf",null==(V=s.setTourForm.get("phoneNumber"))?null:V.touched),a.xp6(6),a.Q6J("ngIf",null==(o=s.setTourForm.get("totalTicket"))?null:o.touched)}},dependencies:[b.uX,b.SP,P.KE,P.hX,Z.Nt,c.Fj,c.JJ,c.JL,c.sg,c.u,x.lW,E.O5,u.c,d.D],styles:[".container[_ngcontent-%COMP%]{width:100%}.below-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:15px 10px;background-color:#e3e7ed;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]     .tour-description .tox-tinymce{border-radius:0!important;border:none!important}[_nghost-%COMP%]     .schedule-description .tox-tinymce{border-radius:0!important;border:none!important}.below-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px;margin-right:20px}.below-title[_ngcontent-%COMP%]   span#rating[_ngcontent-%COMP%]{font-weight:300!important;font-size:20px;margin-left:auto}.tour-description[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;padding:15px 10px;font-size:16px}.tour-description[_ngcontent-%COMP%]   h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:15px!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px!important}.html-show-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;overflow-x:auto}.mce-content-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tour-register[_ngcontent-%COMP%]{width:70%;background-color:#fff;padding:20px 30px;border-radius:10px;box-shadow:0 4px 6px #0000001a}.register-container[_ngcontent-%COMP%]{min-height:400px;height:-moz-fit-content;height:fit-content;width:100%;background-image:url(https://bookstore1storage.blob.core.windows.net/0-container/register-background.jpg);background-size:cover;background-repeat:no-repeat;display:flex;flex-direction:row;justify-content:center;align-items:center}.tour-description[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{padding:15px}.tour-description[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0;padding-bottom:0}  .mat-mdc-tab-body-wrapper{z-index:0!important}"]}),M})()},6611:(K,I,m)=>{m.d(I,{_:()=>v});var c=m(4650),r=m(4006),A=m(529),a=m(6582),R=m(6338),w=m(4850),D=m(9549),B=m(4144),U=m(4859),b=m(3546),P=m(6895),Z=m(7100),x=m(9602),E=m(5232),u=m(1572),d=m(2340),F=m(694);let y=(()=>{class f{constructor(i,t,h){this.router=i,this.tokenStorageService=t,this.http=h,this.scheduleType=1,this.id="",this.contactId="",this.scheduleName="",this.schedulePrice=14e5,this.startingPlace="H\xe0 N\u1ed9i",this.headingPlace="\u0110\xe0 N\u1eb5ng",this.startDate="",this.endDate="",this.customerNumber=19,this.firstImageUrl="",this.scheduleImage=[]}ngOnInit(){this.getTourImage()}getRateColor(i){return 0<=i&&2.5>i?"#d31818":2.5<=i&&4>i?"#F79321":4<=i&&5>=i?"#9fc43a":""}getTourImage(){this.http.get("/api/GetFile",{params:{resourceId:this.contactId,resourceType:this.scheduleType+2}}).subscribe(t=>{this.scheduleImage=t.data,this.scheduleImage.length>0&&this.pushImageToList(this.scheduleImage[0]),console.log(t)})}pushImageToList(i){this.firstImageUrl=d.N.backend.blobURL+"/"+(this.scheduleType+2)+"-container/"+(this.scheduleType+2)+"_"+i.id+i.fileType}navigateToDetail(){let i={queryParams:{"schedule-type":this.scheduleType}};"User"==this.tokenStorageService.getUserRole()?this.router.navigate(["user/service/"+this.id+"/detail"],i):this.router.navigate(["guest/service/"+this.id+"/detail"],i)}getTourName(i){return i.length<=100?i:i.substring(0,100)+"..."}getDateFormat(i){const t=new Date(i),h=t.getDate(),V=t.getMonth()+1,p=(t.getFullYear(),t.getHours()),L=t.getHours();return`Ng\xe0y ${h} th\xe1ng ${V}, ${p} gi\u1edd `+(0!==L?L+" ph\xfat":"")}}return f.\u0275fac=function(i){return new(i||f)(c.Y36(a.F0),c.Y36(F.i),c.Y36(A.eN))},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-schedule-search-card"]],inputs:{scheduleType:"scheduleType",id:"id",contactId:"contactId",scheduleName:"scheduleName",schedulePrice:"schedulePrice",startingPlace:"startingPlace",headingPlace:"headingPlace",startDate:"startDate",endDate:"endDate",customerNumber:"customerNumber"},decls:24,vars:7,consts:[[1,"example-card",3,"click"],[2,"margin-left","5px","display","flex","flex-direction","row","align-items","center","width","100%"],[1,"image-container"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],[1,"schedule-content"],[1,"tour-name"],[1,"schedule-content-info"],[1,"destination"],["aria-hidden","true",1,"fa","fa-exchange"],[2,"display","flex","flex-direction","row-reverse","align-items","center"],[1,"tour-price"]],template:function(i,t){1&i&&(c.TgZ(0,"mat-card",0),c.NdJ("click",function(){return t.navigateToDetail()}),c.TgZ(1,"mat-card-content")(2,"div",1)(3,"div",2),c._UZ(4,"img",3),c.qZA(),c.TgZ(5,"div",4)(6,"p",5),c._uU(7),c.qZA(),c.TgZ(8,"div",6)(9,"div",7)(10,"p"),c._uU(11),c.qZA(),c.TgZ(12,"p"),c._uU(13),c.qZA()(),c._UZ(14,"i",8),c.TgZ(15,"div",7)(16,"p"),c._uU(17),c.qZA(),c.TgZ(18,"p"),c._uU(19),c.qZA()()(),c.TgZ(20,"div")(21,"div",9)(22,"p",10),c._uU(23),c.qZA()()()()()()()),2&i&&(c.xp6(4),c.s9C("src",t.firstImageUrl,c.LSH),c.xp6(3),c.Oqu(t.getTourName(t.scheduleName)),c.xp6(4),c.Oqu(t.startingPlace),c.xp6(2),c.Oqu(t.getDateFormat(t.startDate)),c.xp6(4),c.Oqu(t.headingPlace),c.xp6(2),c.Oqu(t.getDateFormat(t.endDate)),c.xp6(4),c.hij("",t.schedulePrice,"\u0111"))},dependencies:[b.a8,b.dn,b.G2],styles:[".example-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;white-space:nowrap;max-height:200px;width:48%}.example-card[_ngcontent-%COMP%]:hover{cursor:pointer}.tour-name[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:20px;word-wrap:break-word;text-wrap:wrap}.tour-judge[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0!important}.tour-history[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#d31818;background-color:#fceaea;padding:5px}.tour-price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f79321;right:0!important;margin-right:10px}img[_ngcontent-%COMP%]{max-height:110px}.image-container[_ngcontent-%COMP%]{width:140px!important;margin-right:20px}.schedule-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:start}.schedule-content-info[_ngcontent-%COMP%]{display:flex;flex-direction:row}.schedule-content-info[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:1;display:flex}.schedule-content-info[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]:first-of-type{align-items:flex-end;margin-right:10px}.schedule-content-info[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]:last-of-type{align-items:flex-start;margin-left:10px;text-wrap:wrap}.schedule-content-info[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-weight:700;font-size:20px!important}.schedule-content-info[_ngcontent-%COMP%]   .destination[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-wrap:wrap}"]}),f})();const q=["picker"],G=["packContainer"];function Y(f,s){if(1&f&&c._UZ(0,"app-schedule-search-card",11),2&f){const i=s.$implicit,t=c.oxw();let h,V,o;c.Q6J("id",null!==(h=i.id)&&void 0!==h?h:"")("scheduleName",null!==(V=i.name)&&void 0!==V?V:"")("scheduleType",1)("contactId",i.transportId)("schedulePrice",null!==(o=i.singlePrice)&&void 0!==o?o:0)("startDate",t.getDateString(i.startDate))("endDate",t.getDateString(i.endDate))("startingPlace",i.startingPlace)("headingPlace",i.headingPlace)}}function Q(f,s){if(1&f&&c._UZ(0,"app-schedule-search-card",12),2&f){const i=s.$implicit,t=c.oxw();let h,V,o;c.Q6J("id",null!==(h=i.id)&&void 0!==h?h:"")("scheduleName",null!==(V=i.name)&&void 0!==V?V:"")("scheduleType",2)("contactId",i.restHouseBranchId)("schedulePrice",null!==(o=i.singlePrice)&&void 0!==o?o:0)("startDate",t.getDateString(i.startDate))("endDate",t.getDateString(i.endDate))}}function W(f,s){1&f&&(c.TgZ(0,"div",13),c._UZ(1,"mat-spinner",14),c.TgZ(2,"h3"),c._uU(3,"\u0110ang t\u1ea3i"),c.qZA()()),2&f&&(c.xp6(1),c.Q6J("diameter",10))}function _(f,s){if(1&f){const i=c.EpF();c.TgZ(0,"li",8)(1,"a",15),c.NdJ("click",function(){const V=c.CHM(i).$implicit,o=c.oxw();return c.KtG(o.changePage(V-1))}),c._uU(2),c.qZA()()}if(2&f){const i=s.$implicit,t=c.oxw();c.xp6(1),c.Q6J("ngClass",i===t.activePage?"active-page":""),c.xp6(1),c.Oqu(i)}}let k=(()=>{class f{constructor(i,t,h,V){this.fb=i,this.renderer=t,this.http=h,this._route=V,this.scheduleType=1,this.startingDate="",this.startingPoint="",this.endPoint="",this.priceFrom=0,this.priceTo=2e6,this.categoryString="",this.activePage=1,this.isLoading=!1,this.active=1,this.pageIndex=0,this.pageSize=2,this.totalPage=1,this.pageArray=[1],this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.movingScheduleList=[],this.stayingScheduleList=[],this.length=0,this.color="primary",this.subscriptions=[]}ngOnChanges(i){this.pageIndex=0,this.getTourPack()}ngOnInit(){this.pageIndex=0,this.getTourPack()}getTourPack(){const i={page:this.pageIndex+1,pageSize:this.pageSize,categoryString:this.categoryString,priceFrom:this.priceFrom,priceTo:this.priceTo,startingDate:this.startingDate,startingPoint:this.startingPoint,endPoint:this.endPoint};1==this.scheduleType?this.http.get("/api/GetMovingSchedule",{params:i}).subscribe(t=>{if(t){this.movingScheduleList=t.data,this.length=t.count,this.isLoading=!1,this.totalPage=Math.ceil(this.length/this.pageSize),this.pageArray=[];for(let h=1;h<=this.totalPage;h++)this.pageArray.push(h)}}):2==this.scheduleType&&this.http.get("/api/GetMovingSchedule",{params:i}).subscribe(t=>{if(t){this.stayingScheduleList=t.data,this.length=t.count,this.isLoading=!1,this.totalPage=Math.ceil(this.length/this.pageSize),this.pageArray=[];for(let h=1;h<=this.totalPage;h++)this.pageArray.push(h)}})}capitalizeFirstLetter(i){return i.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}changePage(i){this.pageIndex=i,this.activePage=i+1,this.movingScheduleList=[],this.stayingScheduleList=[],this.isLoading=!0,this.getTourPack()}getDateString(i){return null!=i?i.toString()??"":""}}return f.\u0275fac=function(i){return new(i||f)(c.Y36(r.qu),c.Y36(c.Qsj),c.Y36(A.eN),c.Y36(a.gz))},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-schedule-search-pack"]],viewQuery:function(i,t){if(1&i&&(c.Gf(q,5),c.Gf(G,5)),2&i){let h;c.iGM(h=c.CRH())&&(t.eatingPicker=h.first),c.iGM(h=c.CRH())&&(t.packContainer=h.first)}},inputs:{scheduleType:"scheduleType",startingDate:"startingDate",startingPoint:"startingPoint",endPoint:"endPoint",priceFrom:"priceFrom",priceTo:"priceTo",categoryString:"categoryString"},features:[c.TTD],decls:16,vars:8,consts:[["id","pack-container",1,"pack-container"],["packContainer",""],[1,"schedule-pack"],["style","width: 100%",3,"id","scheduleName","scheduleType","contactId","schedulePrice","startDate","endDate","startingPlace","headingPlace",4,"ngFor","ngForOf"],["style","width: 100%",3,"id","scheduleName","scheduleType","contactId","schedulePrice","startDate","endDate",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"pagination"],["aria-label","Page navigation example"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",4,"ngFor","ngForOf"],[2,"width","100%",3,"id","scheduleName","scheduleType","contactId","schedulePrice","startDate","endDate","startingPlace","headingPlace"],[2,"width","100%",3,"id","scheduleName","scheduleType","contactId","schedulePrice","startDate","endDate"],[1,"loading"],[3,"diameter"],[1,"page-link",3,"ngClass","click"]],template:function(i,t){1&i&&(c.TgZ(0,"div",0,1)(2,"div",2),c.YNc(3,Y,1,9,"app-schedule-search-card",3),c.YNc(4,Q,1,7,"app-schedule-search-card",4),c.YNc(5,W,4,1,"div",5),c.qZA(),c.TgZ(6,"div",6)(7,"nav",7)(8,"ul",6)(9,"li",8)(10,"a",9),c.NdJ("click",function(){return t.changePage(t.pageIndex-1)}),c._uU(11,"Tr\u01b0\u1edbc"),c.qZA()(),c.YNc(12,_,3,2,"li",10),c.TgZ(13,"li",8)(14,"a",9),c.NdJ("click",function(){return t.changePage(t.pageIndex+1)}),c._uU(15,"Sau"),c.qZA()()()()()()),2&i&&(c.xp6(3),c.Q6J("ngForOf",t.movingScheduleList),c.xp6(1),c.Q6J("ngForOf",t.stayingScheduleList),c.xp6(1),c.Q6J("ngIf",t.isLoading),c.xp6(5),c.ekj("disabled",t.pageIndex-1<0),c.xp6(2),c.Q6J("ngForOf",t.pageArray),c.xp6(2),c.ekj("disabled",t.pageIndex+2>t.totalPage))},dependencies:[P.mk,P.sg,P.O5,u.Ou,y],styles:[".pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;background-color:inherit;padding:30px 0 20px;width:100%}.tourish-pack[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:wrap;background-color:inherit;width:100%}.tourish-pack-description[_ngcontent-%COMP%]{background-color:inherit}.tourish-pack[_ngcontent-%COMP%]   app-tourish-card[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:10px;margin-right:10px}.tourish-pack-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.tourish-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.pagination[_ngcontent-%COMP%]{align-self:flex-end}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.active-page[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.page-link[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;padding:15px 0}.loading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0;font-weight:700;font-size:16px}"]}),f})();const g=["picker"];function C(f,s){if(1&f&&(c.TgZ(0,"mat-list-option",7),c._uU(1),c.qZA()),2&f){const i=s.$implicit;c.Q6J("value",i),c.xp6(1),c.AsE("T\u1eeb ",i.startPrice," - ",0!=i.endPrice?i.endPrice:"Tr\u1edf l\xean"," \u0111")}}function S(f,s){if(1&f&&c._UZ(0,"app-validation",24),2&f){const i=c.oxw();c.Q6J("formGroup",i.setTourForm)("formGroupControlName","endPoint")}}function J(f,s){if(1&f&&c._UZ(0,"app-validation",24),2&f){const i=c.oxw();c.Q6J("formGroup",i.setTourForm)("formGroupControlName","startingPoint")}}function M(f,s){if(1&f&&c._UZ(0,"app-validation",24),2&f){const i=c.oxw();c.Q6J("formGroup",i.setTourForm)("formGroupControlName","startingDate")}}let v=(()=>{class f{constructor(i,t,h){this.fb=i,this.http=t,this._route=h,this.active=1,this.categoryList=[],this.length=5,this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.color="primary",this.priceRange=[{startPrice:0,endPrice:2e7},{startPrice:2e7,endPrice:5e7},{startPrice:5e7,endPrice:1e8},{startPrice:1e8,endPrice:0}],this.subscriptions=[],this.startingDate="",this.startingPoint="",this.endPoint="",this.priceTo=2e7,this.priceFrom=0,this.categoryString=""}ngOnInit(){this.setTourForm=this.fb.group({startingDate:[""],startingPoint:[""],endPoint:[""]}),this.subscriptions.push(this._route.queryParamMap.subscribe(i=>{if(i.get("startingPoint")){const t=i.get("startingPoint")??"";this.setTourForm.controls.startingPoint.setValue(t)}if(i.get("endpoint")){const t=i.get("endpoint")??"";this.setTourForm.controls.endpoint.setValue(t)}if(i.get("priceFrom")){const t=i.get("priceFrom")??"";this.setTourForm.controls.priceFrom.setValue(t)}if(i.get("priceTo")){const t=i.get("priceTo")??"";this.setTourForm.controls.priceTo.setValue(t)}if(i.get("startingDate")){const t=i.get("startingDate")??"";this.setTourForm.controls.startingDate.setValue(t)}}))}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}priceRangeChange(i){i&&(console.log(i.options[0].value),this.priceFrom=i.options[0].value.startPrice,this.priceTo=i.options[0].value.endPrice)}categoryChange(i){i&&(console.log(i.source._value),this.categoryString=0==i.source._value.length?"":JSON.stringify(i.source._value))}onSearch(){this.startingDate=this.setTourForm.value.startingDate,this.startingPoint=this.setTourForm.value.startingPoint,this.endPoint=this.setTourForm.value.endPoint}}return f.\u0275fac=function(i){return new(i||f)(c.Y36(r.qu),c.Y36(A.eN),c.Y36(a.gz))},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-schedule-search"]],viewQuery:function(i,t){if(1&i&&c.Gf(g,5),2&i){let h;c.iGM(h=c.CRH())&&(t.eatingPicker=h.first)}},inputs:{data:"data"},decls:48,vars:21,consts:[[1,"search-container"],[1,"side-container"],[1,"price-tag"],[1,"example-card"],[3,"multiple","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"selectionChange"],[3,"value"],[1,"product-container"],[1,"tour-search"],[1,"row",2,"height","fit-content !important",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-3","col-lg-4","create-form"],["appearance","outline",1,"full-width-input"],["matInput","","fullwidth","","placeholder","Vd: \u0110\xe0 N\u1eb5ng","formControlName","endPoint"],[3,"formGroup","formGroupControlName",4,"ngIf"],["matInput","","fullwidth","","placeholder","Vd: H\xe0 N\u1ed9i","formControlName","startingPoint"],[1,"col-xs-12","col-sm-12","col-md-3","col-lg-3","create-form"],["matInput","","placeholder","Choose a date","formControlName","startingDate",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","touchUi","color","enableMeridian"],["picker",""],[1,"col-xs-12","col-sm-12","col-md-1","col-lg-1","create-form"],["mat-raised-button","","color","primary",2,"height","56px","font-size","14px",3,"click"],[2,"width","100%",3,"startingDate","startingPoint","endPoint","priceFrom","priceTo","categoryString"],[3,"formGroup","formGroupControlName"]],template:function(i,t){if(1&i&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),c._uU(6,"L\u1ecdc theo"),c.qZA()(),c.TgZ(7,"mat-card-content")(8,"h4"),c._uU(9,"Gi\xe1"),c.qZA(),c.TgZ(10,"mat-selection-list",4),c.NdJ("selectionChange",function(V){return t.priceRangeChange(V)}),c.YNc(11,C,2,3,"mat-list-option",5),c.qZA(),c._UZ(12,"mat-divider"),c.TgZ(13,"h4"),c._uU(14,"Lo\u1ea1i d\u1ecbch v\u1ee5"),c.qZA(),c.TgZ(15,"mat-selection-list",6),c.NdJ("selectionChange",function(V){return t.categoryChange(V)}),c.TgZ(16,"mat-list-option",7),c._uU(17,"V\xe9 di chuy\u1ec3n"),c.qZA(),c.TgZ(18,"mat-list-option",7),c._uU(19,"Book Homestay/Hotel"),c.qZA()()()()()(),c.TgZ(20,"div",8)(21,"div",9)(22,"div",10)(23,"div",11)(24,"mat-form-field",12)(25,"mat-label"),c._uU(26,"B\u1ea1n mu\u1ed1n \u0111i \u0111\xe2u"),c.qZA(),c._UZ(27,"input",13),c.qZA(),c.YNc(28,S,1,2,"app-validation",14),c.qZA(),c.TgZ(29,"div",11)(30,"mat-form-field",12)(31,"mat-label"),c._uU(32,"N\u01a1i b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(33,"input",15),c.qZA(),c.YNc(34,J,1,2,"app-validation",14),c.qZA(),c.TgZ(35,"div",16)(36,"mat-form-field",12)(37,"mat-label"),c._uU(38,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(39,"input",17)(40,"mat-datepicker-toggle",18)(41,"ngx-mat-datetime-picker",19,20),c.qZA(),c.YNc(43,M,1,2,"app-validation",14),c.qZA(),c.TgZ(44,"div",21)(45,"button",22),c.NdJ("click",function(){return t.onSearch()}),c._uU(46," T\xecm "),c.qZA()()()(),c._UZ(47,"app-schedule-search-pack",23),c.qZA()()),2&i){const h=c.MAs(42);c.xp6(10),c.Q6J("multiple",!1),c.xp6(1),c.Q6J("ngForOf",t.priceRange),c.xp6(5),c.Q6J("value",1),c.xp6(2),c.Q6J("value",2),c.xp6(4),c.Q6J("formGroup",t.setTourForm),c.xp6(6),c.Q6J("ngIf",t.isSubmit),c.xp6(6),c.Q6J("ngIf",t.isSubmit),c.xp6(5),c.Q6J("ngxMatDatetimePicker",h),c.xp6(1),c.Q6J("for",h),c.xp6(1),c.Q6J("showSpinners",!0)("showSeconds",!0)("touchUi",t.touchUi)("color",t.color)("enableMeridian",t.enableMeridian),c.xp6(2),c.Q6J("ngIf",t.isSubmit),c.xp6(4),c.Q6J("startingDate",t.startingDate)("startingPoint",t.startingPoint)("endPoint",t.endPoint)("priceFrom",t.priceFrom)("priceTo",t.priceTo)("categoryString",t.categoryString)}},dependencies:[R.Ub,R.vS,w.d,D.KE,D.hX,D.R9,B.Nt,r.Fj,r.JJ,r.JL,r.sg,r.u,U.lW,b.a8,b.dn,b.dk,b.n5,P.sg,P.O5,Z.rZ,Z.T$,x.nW,E.c,k],styles:[".search-container[_ngcontent-%COMP%]{min-height:400px;height:-moz-fit-content;height:fit-content;width:100%;background-color:#ecf0f5;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;padding:50px 10%}.page-info-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:100%;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;padding-top:15px;padding-bottom:15px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0!important}.tour-search[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:35px 30px 10px;border-radius:10px;box-shadow:0 4px 6px #0000001a;margin-bottom:10px}.tour-search[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]   ng-tns-c23-2[_ngcontent-%COMP%]{background-color:#fff}.container[_ngcontent-%COMP%]{width:100%}.below-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:15px 10px;background-color:#e3e7ed;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.below-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px;margin-right:20px}.below-title[_ngcontent-%COMP%]   span#tour-id[_ngcontent-%COMP%]{font-weight:300!important;font-size:20px;margin-left:auto}.tour-description[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;padding:15px 10px;font-size:16px}.tour-description[_ngcontent-%COMP%]   h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px!important}app-tourish-pack[_ngcontent-%COMP%]:nth-child(odd){background-color:#ecf0f5!important}h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.side-container[_ngcontent-%COMP%]{width:20%!important;margin-right:10px}.product-container[_ngcontent-%COMP%]{width:80%!important;margin-left:10px}.price-tag[_ngcontent-%COMP%]{background-color:#fff}mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:0;margin-top:20px}"]}),f})()},456:(K,I,m)=>{m.d(I,{C:()=>$S});var c=m(4006),r=m(1427),A=m(2340),a=m(4650),R=m(6582),w=m(529),D=m(1481),B=m(8034),U=m(694),b=m(6338),P=m(3848),Z=m(9549),x=m(4385),E=m(3238),u=m(4144),d=m(7392),F=m(4859),y=m(6895),q=m(266),G=m(5232),D6={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},_0={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};const cS=function(l,z,e){return{"background-image":l,opacity:z,transition:e}};function aS(l,z){if(1&l&&a._UZ(0,"div",7),2&l){const e=a.oxw();a.Q6J("ngStyle",a.kEZ(1,cS,"url("+e.slides[e.currentSlide].url+")",e.hidden?0:1,"opacity "+e.animationSpeed+"ms ease-in-out"))}}const eS=function(l){return{active:l}};function iS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"div",10),a.NdJ("click",function(){const N=a.CHM(e).index,T=a.oxw(2);return a.KtG(T.jumpToSlide(N))}),a.qZA()}if(2&l){const e=z.index,n=a.oxw(2);a.Q6J("ngClass",a.VKq(1,eS,e===n.currentSlide))}}function sS(l,z){if(1&l&&(a.ynx(0),a.TgZ(1,"div",8),a.YNc(2,iS,1,3,"div",9),a.qZA(),a.BQk()),2&l){const e=a.oxw();a.xp6(2),a.Q6J("ngForOf",e.slides)}}let rS=(()=>{class l{constructor(){this.slides=[],this.indicatorsVisible=!0,this.animationSpeed=500,this.autoPlay=!1,this.autoPlaySpeed=3e3,this.currentSlide=0,this.faArrowRight=D6,this.faArrowLeft=_0,this.hidden=!1}next(){this.jumpToSlide((this.currentSlide+1)%this.slides.length)}previous(){this.jumpToSlide((this.currentSlide-1+this.slides.length)%this.slides.length)}jumpToSlide(e){this.hidden=!0,setTimeout(()=>{this.currentSlide=e,this.hidden=!1},this.animationSpeed)}ngOnInit(){this.autoPlay&&setInterval(()=>{this.next()},this.autoPlaySpeed)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-image-slider"]],inputs:{slides:"slides",indicatorsVisible:"indicatorsVisible",animationSpeed:"animationSpeed",autoPlay:"autoPlay",autoPlaySpeed:"autoPlaySpeed"},decls:7,vars:2,consts:[[1,"slides"],["class","slide",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"nextButton",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-right"],[1,"previousButton",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"slide",3,"ngStyle"],["id","indicators"],["class","indicator",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"indicator",3,"ngClass","click"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.YNc(1,aS,1,5,"div",1),a.YNc(2,sS,3,1,"ng-container",2),a.TgZ(3,"button",3),a.NdJ("click",function(){return n.next()}),a._UZ(4,"i",4),a.qZA(),a.TgZ(5,"button",5),a.NdJ("click",function(){return n.previous()}),a._UZ(6,"i",6),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("ngIf",void 0!==n.slides[n.currentSlide]),a.xp6(1),a.Q6J("ngIf",n.indicatorsVisible))},dependencies:[y.mk,y.sg,y.O5,y.PC],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]{width:100%;height:700px;border-top-left-radius:10px;border-top-right-radius:10px;overflow:hidden;position:relative}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;position:relative}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   .nextButton[_ngcontent-%COMP%], [_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   .previousButton[_ngcontent-%COMP%]{position:absolute;top:50%;border:0px;background-color:transparent;font-size:30px;color:#fff}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   .nextButton[_ngcontent-%COMP%]{right:20px}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   .previousButton[_ngcontent-%COMP%]{left:20px}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   #indicators[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin:auto;bottom:20px;width:200px}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   #indicators[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;background-color:#fff;display:inline-block;margin:0 5px;cursor:pointer;transition:background-color .5s ease-in-out}[_nghost-%COMP%]   .slides[_ngcontent-%COMP%]   #indicators[_ngcontent-%COMP%]   .indicator.active[_ngcontent-%COMP%]{background-color:#4f4f4f}"]}),l})();var u1=m(4221);let nS=(()=>{class l{constructor(e,n,H,N){this.fb=e,this.renderer=n,this.http=H,this.messageService=N,this.senderName="",this.sendTime="",this.blobContainerName="",this.blobName="",this.userId="",this.avatarLink=""}ngOnInit(){this.getAvatar()}getTime(e){if(""===e)return"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc";const n=new Date(e),H=new Date,N=6e4*H.getTimezoneOffset();H.setTime(H.getTime()+N),new Date(H.toISOString());let O=(H.valueOf()-n.valueOf())/1e3;return O<60?"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc":O>=60&&O<3600?(O/60).toFixed(0)+" ph\xfat tr\u01b0\u1edbc":O>=3600&&O<86400?(O/3600).toFixed(0)+" ti\u1ebfng tr\u01b0\u1edbc":O>=86400&&O<2592e3?(O/86400).toFixed(0)+" ng\xe0y tr\u01b0\u1edbc":(O/2592e3).toFixed(0)+" th\xe1ng tr\u01b0\u1edbc"}getAvatar(){const e={resourceId:this.userId,resourceType:0};let n=A.N.backend.blobURL+"/0-container/0_anonymus.png";0===this.userId.length&&(this.avatarLink=n),this.http.get("/api/GetFile",{params:e}).subscribe(H=>{H&&H.data?.length>0&&(this.avatarLink=this.generateUrl(H.data[0]))}),this.avatarLink=n}generateUrl(e){return A.N.backend.blobURL+"/0-container/0_"+e.id+e.fileType}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(c.qu),a.Y36(a.Qsj),a.Y36(w.eN),a.Y36(B.e))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-comment-tour-single"]],inputs:{senderName:"senderName",sendTime:"sendTime",blobContainerName:"blobContainerName",blobName:"blobName",userId:"userId"},decls:11,vars:6,consts:[[1,"single-comment"],[1,"image"],["alt","Avatar",1,"avatar",2,"border-radius","50%",3,"src"],[2,"font-weight","bold","text-wrap","break-word"],[1,"content"],[1,"content-description"],[2,"width","100%","height","fit-content",3,"blobName","containerName","editable"],[1,"time"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"span",3),a._uU(4),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5),a._UZ(7,"app-tiny-mce-editor",6),a.qZA(),a.TgZ(8,"div",7)(9,"span"),a._uU(10),a.qZA()()()()),2&e&&(a.xp6(2),a.s9C("src",n.avatarLink,a.LSH),a.xp6(2),a.Oqu(n.senderName),a.xp6(3),a.Q6J("blobName",n.blobName)("containerName",n.blobContainerName)("editable",!1),a.xp6(3),a.Oqu(n.getTime(n.sendTime)))},dependencies:[u1.D],styles:[".single-comment[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;padding:0 10px}.single-comment[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.single-comment[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.single-comment[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%]{display:flex;flex-direction:row}.single-comment[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.single-comment[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:flex-end}.single-comment[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:lighter;font-size:14px}.single-comment[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-top:16px;width:120px}.single-comment[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:110px;word-wrap:break-word}.single-comment[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;width:70px}"]}),l})();var oS=m(7579),tS=m(8372),lS=m(1884);const fS=["ratingButton"],mS=function(l){return{color:l}};function hS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"button",3,4),a.NdJ("click",function(){const N=a.CHM(e).index,T=a.oxw();return a.KtG(T.onClickRating(N+1))}),a.TgZ(2,"mat-icon",5),a._uU(3),a.qZA()()}if(2&l){const e=z.$implicit,n=z.index,H=a.oxw();a.Q6J("id","star_"+n)("matTooltip",(e+1).toString()),a.xp6(2),a.Q6J("ngStyle",a.VKq(4,mS,H.showColor)),a.xp6(1),a.hij(" ",H.showIcon(n)," ")}}function pS(l,z){1&l&&(a.TgZ(0,"mat-error"),a._uU(1," Star count is "),a.TgZ(2,"strong"),a._uU(3,"required"),a.qZA(),a._uU(4," and cannot be zero "),a.qZA())}let uS=(()=>{class l{constructor(e,n){this.tokenServiceStorage=e,this.http=n,this.tourishPlanId="",this.rating=3,this.starCount=5,this.ratingUpdated=new a.vpe,this.showRating=3,this.showColor="#F5C000",this.ratingList=[],this.ratingNumber=0,this.snackBarDuration=2e3,this.ratingArr=[],this.currentRating=3,this.clickSubject=new oS.x,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}ngOnInit(){this.showRating=this.rating,this.getRating(),this.getRatingForTour(),this.subscriptions.push(this.clickSubject.pipe((0,tS.b)(2e3),(0,lS.x)()).subscribe(e=>{e&&this.sendRating(e)}));for(let e=0;e<this.starCount;e++)this.ratingArr.push(e)}showIcon(e){return this.showRating>=e+1?"star":"star_border"}onClickRating(e){this.currentRating=e,this.showRating=e,this.showColor="#F5C000",this.clickSubject.next(e)}sendRating(e){const n=this.tokenServiceStorage.getUser().Id;this.http.post("/api/SendTourRating",{tourishPlanId:this.tourishPlanId,rating:e,userId:n}).subscribe(N=>{N&&this.ratingUpdated.emit(e)})}getRating(){const e=this.tokenServiceStorage.getUser().Id;this.http.get("/api/GetTourRating/user",{params:{tourishPlanId:this.tourishPlanId,userId:e}}).subscribe(H=>{H&&(void 0!==H.data?.rating?this.showRating=H.data.rating:(this.showRating=3,this.showColor="#F7F29A"))})}getRatingForTour(){this.http.get("/api/GetTourRating/tourishplan",{params:{tourishPlanId:this.tourishPlanId}}).subscribe(n=>{n&&(console.log("abc",n),this.ratingList=n.data,this.ratingNumber=n.count)})}caculateRating(){let e=0;return this.ratingList.forEach(n=>{e+=n.rating}),0!=this.ratingNumber?e/this.ratingNumber:0}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(U.i),a.Y36(w.eN))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-star-rating"]],viewQuery:function(e,n){if(1&e&&a.Gf(fS,5),2&e){let H;a.iGM(H=a.CRH())&&(n.buttonRef=H.first)}},inputs:{tourishPlanId:"tourishPlanId",rating:"rating",starCount:"starCount"},outputs:{ratingUpdated:"ratingUpdated"},decls:5,vars:3,consts:[[1,"app-rating"],["mat-icon-button","","matTooltipPosition","above",3,"id","matTooltip","click",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-icon-button","","matTooltipPosition","above",3,"id","matTooltip","click"],["ratingButton",""],[3,"ngStyle"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.YNc(1,hS,4,6,"button",1),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.YNc(4,pS,5,0,"mat-error",2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngForOf",n.ratingArr),a.xp6(2),a.hij(" (",n.ratingNumber," l\u01b0\u1ee3t \u0111\xe1nh gi\xe1)"),a.xp6(1),a.Q6J("ngIf",null==n.starCount||0==n.starCount))},dependencies:[Z.TO,d.Hw,F.RK,y.sg,y.O5,y.PC,q.gM],styles:[".app-rating[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),l})();const HS=["picker"],zS=["packContainer"];function vS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const H=a.oxw();return a.KtG(H.sendComment())}),a._uU(1),a.qZA()}if(2&l){const e=a.oxw();a.Q6J("disabled",e.isSending),a.xp6(1),a.hij(" ",e.isSending?"\u0110ang g\u1eedi":"G\u1eedi"," ")}}function gS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"app-star-rating",14),a.NdJ("ratingUpdated",function(H){a.CHM(e);const N=a.oxw();return a.KtG(N.onRatingChanged(H))}),a.qZA()}if(2&l){const e=a.oxw();a.Q6J("rating",e.rating)("starCount",e.starCount)("tourishPlanId",e.tourishPlanId)}}function VS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"app-tiny-mce-editor",15),a.NdJ("result",function(H){a.CHM(e);const N=a.oxw();return a.KtG(N.getTinyMceResult(H))}),a.qZA()}2&l&&a.Q6J("blobName","")("containerName","")}function dS(l,z){1&l&&(a.TgZ(0,"h3",16),a._uU(1," Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 b\xecnh lu\u1eadn "),a.qZA())}function CS(l,z){if(1&l&&a._UZ(0,"app-comment-tour-single",17),2&l){const e=z.$implicit;a.Q6J("blobName",e.id)("blobContainerName","tourish-comment-container")("userId",e.userId)("senderName",e.userName)("sendTime",e.createDate)}}function MS(l,z){1&l&&(a.TgZ(0,"h3",16),a._UZ(1,"i",18),a._uU(2," Kh\xf4ng c\xf3 b\xecnh lu\u1eadn "),a.qZA())}function LS(l,z){if(1&l){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const H=a.oxw();return a.KtG(H.getTourComment())}),a._uU(1," Xem th\xeam "),a.qZA()}if(2&l){const e=a.oxw();a.Q6J("disabled",e.isLoading)}}let xS=(()=>{class l{constructor(e,n,H,N,T){this.fb=e,this.renderer=n,this.tokenStorageService=H,this.http=N,this.messageService=T,this.tourishPlanId="",this.active=1,this.rating=3,this.starCount=5,this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.editorContent="",this.isLoading=!1,this.isSending=!1,this.canLoadMore=!0,this.tourishPLanCommentList=[],this.length=0,this.color="primary"}ngOnInit(){this.setTourForm=this.fb.group({name:["",c.kI.compose([c.kI.required])],endDate:["",c.kI.compose([c.kI.required])],email:["",c.kI.compose([c.kI.required])],phoneNumber:["",c.kI.compose([c.kI.required])],totalTicket:[0,c.kI.compose([c.kI.required])],description:["",c.kI.compose([c.kI.required,c.kI.minLength(3)])]}),this.getTourComment()}getTourComment(){const e={page:1,tourishPlanId:this.tourishPlanId,pageSize:6};this.isLoading=!0,this.http.get("/api/GetTourComment/tourishplan",{params:e}).subscribe(n=>{n&&(this.isLoading=!1,this.tourishPLanCommentList=[...this.tourishPLanCommentList,...n.data],this.length=n.count,this.tourishPLanCommentList.length>=this.length&&(this.canLoadMore=!1))})}sendComment(){const e=this.tokenStorageService.getUser().Id,n={tourishPlanId:this.tourishPlanId,content:this.editorContent,userId:e};this.isSending=!0,this.http.post("/api/AddTourComment",n).subscribe(H=>{H&&(this.isSending=!1,this.messageService.closeAllDialog(),this.messageService.openMessageNotifyDialog(H.messageCode),this.tourishPLanCommentList=[H.data,...this.tourishPLanCommentList])})}isUserLogin(){return"User"===this.tokenStorageService.getUserRole()}getTinyMceResult(e){this.editorContent=e.data}getTime(e){if(""===e)return"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc";const n=new Date(e),H=new Date,N=6e4*H.getTimezoneOffset();H.setTime(H.getTime()+N);let T=(H.valueOf()-n.valueOf())/1e3;return T<60?"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc":T>=60&&T<3600?(T/60).toFixed(0)+" ph\xfat tr\u01b0\u1edbc":T>=3600&&T<86400?(T/3600).toFixed(0)+" ti\u1ebfng tr\u01b0\u1edbc":T>=86400&&T<2592e3?(T/86400).toFixed(0)+" ng\xe0y tr\u01b0\u1edbc":(T/2592e3).toFixed(0)+" th\xe1ng tr\u01b0\u1edbc"}getAvatar(e){let H=A.N.backend.blobURL+"/0-container/0_anonymus.png";return 0===e.length||this.http.get("/api/GetFile",{params:{resourceId:e,resourceType:0}}).subscribe(N=>{N&&N.data?.length>0&&(H=this.generateUrl(N.data[0]))}),H}generateUrl(e){return A.N.backend.blobURL+"/0-container/0_"+e.id+e.fileType}onRatingChanged(e){}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(c.qu),a.Y36(a.Qsj),a.Y36(U.i),a.Y36(w.eN),a.Y36(B.e))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-comment-section"]],viewQuery:function(e,n){if(1&e&&(a.Gf(HS,5),a.Gf(zS,5)),2&e){let H;a.iGM(H=a.CRH())&&(n.eatingPicker=H.first),a.iGM(H=a.CRH())&&(n.packContainer=H.first)}},inputs:{tourishPlanId:"tourishPlanId"},decls:19,vars:7,consts:[["id","pack-container",1,"pack-container"],["packContainer",""],[1,"title"],[1,"tour-name"],[1,"comment-pack"],[1,"send-rate"],["mat-stroked-button","","style","color: rgb(4, 201, 201); font-size: 16px",3,"disabled","click",4,"ngIf"],[3,"rating","starCount","tourishPlanId","ratingUpdated",4,"ngIf"],["style","width: 100%; z-index: 0",3,"blobName","containerName","result",4,"ngIf"],["style","font-size: 25px; font-weight: bold",4,"ngIf"],[1,"comment-list"],["style","width: 100%",3,"blobName","blobContainerName","userId","senderName","sendTime",4,"ngFor","ngForOf"],[1,"comment-button"],["mat-stroked-button","",2,"color","rgb(4, 201, 201)","font-size","16px",3,"disabled","click"],[3,"rating","starCount","tourishPlanId","ratingUpdated"],[2,"width","100%","z-index","0",3,"blobName","containerName","result"],[2,"font-size","25px","font-weight","bold"],[2,"width","100%",3,"blobName","blobContainerName","userId","senderName","sendTime"],["aria-hidden","true",1,"fa","fa-commenting-o"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0,1)(2,"div",2)(3,"h4",3),a._uU(4,"B\xecnh lu\u1eadn"),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5),a.YNc(7,vS,2,2,"button",6),a.YNc(8,gS,1,3,"app-star-rating",7),a.qZA(),a.YNc(9,VS,1,2,"app-tiny-mce-editor",8),a.YNc(10,dS,2,0,"h3",9),a.qZA(),a.TgZ(11,"div",2)(12,"h4",3),a._uU(13,"Danh s\xe1ch b\xecnh lu\u1eadn"),a.qZA()(),a.TgZ(14,"div",10),a.YNc(15,CS,1,5,"app-comment-tour-single",11),a.YNc(16,MS,3,0,"h3",9),a.qZA(),a.TgZ(17,"div",12),a.YNc(18,LS,2,1,"button",6),a.qZA()()),2&e&&(a.xp6(7),a.Q6J("ngIf",n.isUserLogin()),a.xp6(1),a.Q6J("ngIf",n.isUserLogin()),a.xp6(1),a.Q6J("ngIf",n.isUserLogin()),a.xp6(1),a.Q6J("ngIf",!n.isUserLogin()),a.xp6(5),a.Q6J("ngForOf",n.tourishPLanCommentList),a.xp6(1),a.Q6J("ngIf",n.tourishPLanCommentList.length<=0),a.xp6(2),a.Q6J("ngIf",n.canLoadMore))},dependencies:[F.lW,y.sg,y.O5,u1.D,nS,uS],styles:[".pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;background-color:inherit;padding:10px}.comment-pack[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-wrap:wrap;background-color:inherit;border-bottom:2px solid #f3f3f3;margin-bottom:20px}.comment-pack-description[_ngcontent-%COMP%]{background-color:inherit}.comment-pack[_ngcontent-%COMP%]   app-comment-card[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:10px;margin-right:10px}.comment-pack-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.comment-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.pack-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700!important;font-size:20px}.comment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.send-rate[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:row;align-items:center!important}"]}),l})();function NS(l,z){1&l&&a._UZ(0,"i",46)}function SS(l,z){1&l&&a._UZ(0,"i",47)}function _S(l,z){1&l&&a._UZ(0,"i",48)}const bS=function(){return{color:"#F5C000"}};function TS(l,z){if(1&l&&(a.TgZ(0,"button",49,50)(2,"mat-icon",51),a._uU(3),a.qZA()()),2&l){const e=z.$implicit,n=z.index,H=a.oxw();a.Q6J("id","star_"+n)("matTooltip",(e+1).toString()),a.xp6(2),a.Q6J("ngStyle",a.DdM(4,bS)),a.xp6(1),a.hij(" ",H.showIcon(n)," ")}}function PS(l,z){if(1&l&&a._UZ(0,"app-tiny-mce-editor",55),2&l){let n;a.Q6J("blobName",null!==(n=z.$implicit.id)&&void 0!==n?n:"")("containerName","eatschedule-content-container")("editable",!1)}}function AS(l,z){if(1&l&&(a.TgZ(0,"div",53),a.YNc(1,PS,1,3,"app-tiny-mce-editor",54),a.qZA()),2&l){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",null==e.tourishPlan?null:e.tourishPlan.eatSchedules)}}function wS(l,z){if(1&l&&a.YNc(0,AS,2,1,"div",52),2&l){const e=a.oxw();a.Q6J("ngIf",null!=(null==e.tourishPlan?null:e.tourishPlan.eatSchedules))}}function kS(l,z){if(1&l&&a._UZ(0,"app-tiny-mce-editor",57),2&l){let n;a.Q6J("blobName",null!==(n=z.$implicit.id)&&void 0!==n?n:"")("containerName","movingschedule-content-container")("editable",!1)}}function ES(l,z){if(1&l&&(a.TgZ(0,"div"),a.YNc(1,kS,1,3,"app-tiny-mce-editor",56),a.qZA()),2&l){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",null==e.tourishPlan?null:e.tourishPlan.movingSchedules)}}function yS(l,z){if(1&l&&a.YNc(0,ES,2,1,"div",22),2&l){const e=a.oxw();a.Q6J("ngIf",null!=(null==e.tourishPlan?null:e.tourishPlan.movingSchedules))}}function DS(l,z){if(1&l&&a._UZ(0,"app-tiny-mce-editor",57),2&l){let n;a.Q6J("blobName",null!==(n=z.$implicit.id)&&void 0!==n?n:"")("containerName","stayingschedule-content-container")("editable",!1)}}function FS(l,z){if(1&l&&(a.TgZ(0,"div"),a.YNc(1,DS,1,3,"app-tiny-mce-editor",56),a.qZA()),2&l){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",null==e.tourishPlan?null:e.tourishPlan.stayingSchedules)}}function BS(l,z){if(1&l&&a.YNc(0,FS,2,1,"div",22),2&l){const e=a.oxw();a.Q6J("ngIf",null!=(null==e.tourishPlan?null:e.tourishPlan.stayingSchedules))}}function US(l,z){1&l&&(a.TgZ(0,"h3"),a._uU(1," D\u1ecbch v\u1ee5 \u0103n u\u1ed1ng "),a.qZA())}function OS(l,z){if(1&l&&(a.TgZ(0,"mat-list-item")(1,"span",58),a._uU(2),a.qZA(),a.TgZ(3,"span",59),a._uU(4),a.qZA(),a.TgZ(5,"span",59),a._uU(6),a.qZA()()),2&l){const e=z.$implicit;a.xp6(2),a.hij("T\xean nh\xe0 h\xe0ng: ",e.placeName,""),a.xp6(2),a.hij("Ng\xe0y b\u1eaft \u0111\u1ea7u: ",e.startDate,""),a.xp6(2),a.hij("Gi\xe1 c\u1ea3: ",e.singlePrice,"")}}function ZS(l,z){1&l&&(a.TgZ(0,"h3"),a._uU(1," D\u1ecbch v\u1ee5 di chuy\u1ec3n "),a.qZA())}function RS(l,z){if(1&l&&(a.TgZ(0,"mat-list-item")(1,"span",58),a._uU(2),a.qZA(),a.TgZ(3,"span",59),a._uU(4),a.qZA(),a.TgZ(5,"span",59),a._uU(6),a.qZA()()),2&l){const e=z.$implicit;a.xp6(2),a.hij("D\u1ecbch v\u1ee5: ",e.branchName,""),a.xp6(2),a.hij("Ng\xe0y b\u1eaft \u0111\u1ea7u: ",e.startDate,""),a.xp6(2),a.hij("Gi\xe1 c\u1ea3: ",e.singlePrice,"")}}function IS(l,z){1&l&&(a.TgZ(0,"h3"),a._uU(1," D\u1ecbch v\u1ee5 \u0103n \u1edf "),a.qZA())}function qS(l,z){if(1&l&&(a.TgZ(0,"mat-list-item")(1,"span",58),a._uU(2),a.qZA(),a.TgZ(3,"span",59),a._uU(4),a.qZA(),a.TgZ(5,"span",59),a._uU(6),a.qZA()()),2&l){const e=z.$implicit;a.xp6(2),a.hij("T\xean nh\xe0 h\xe0ng: ",e.placeName,""),a.xp6(2),a.hij("Ng\xe0y b\u1eaft \u0111\u1ea7u: ",e.startDate,""),a.xp6(2),a.hij("Gi\xe1 c\u1ea3: ",e.singlePrice,"")}}function GS(l,z){if(1&l&&(a.TgZ(0,"tr")(1,"td",60),a._uU(2),a.qZA(),a.TgZ(3,"td",60),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.qZA()()),2&l){const e=z.$implicit,n=z.index,H=a.oxw();let N;a.xp6(2),a.Oqu(n+1),a.xp6(2),a.Oqu(H.getDateFormat(e.startDate)),a.xp6(2),a.hij(" ",H.getDateFormat(e.startDate)," "),a.xp6(2),a.Oqu(H.getStatusPhase((null!==(N=e.planStatus)&&void 0!==N?N:"").toString()))}}function QS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","name")}}function WS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","address")}}function JS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","email")}}function jS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","phoneNumber")}}function YS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","totalTicket")}}function KS(l,z){if(1&l&&a._UZ(0,"app-validation",61),2&l){const e=a.oxw();a.Q6J("formGroup",e.setTourForm)("formGroupControlName","totalChildTicket")}}function XS(l,z){if(1&l&&(a.TgZ(0,"mat-option",62),a._uU(1),a.qZA()),2&l){const e=z.$implicit,n=a.oxw();a.Q6J("value",e.id),a.xp6(1),a.hij(" ",n.getDateFormat(e.startDate)," ")}}const X=function(){return[]};let $S=(()=>{class l{constructor(e,n,H,N,T,O,$,c2){this.fb=e,this._route=n,this.http=H,this.sanitizer=N,this.rendered2=T,this.messageService=O,this.elementRef=$,this.tokenStorageService=c2,this.active=1,this.isSubmit=!1,this.tourishPlanId="",this.tourDescription="",this.isMovingContactPresent=!1,this.isTrainPresent=!1,this.isPlanePresent=!1,this.tourImage=[],this.ratingAverage=3,this.ratingArr=[],this.slides=[]}ngOnInit(){this.tourishPlanId=this._route.snapshot.paramMap.get("id")??"";for(let e=0;e<5;e++)this.ratingArr.push(e);this.setTourForm=this.fb.group({name:["",c.kI.compose([c.kI.required])],address:["",c.kI.compose([c.kI.required])],email:["",c.kI.compose([c.kI.required])],phoneNumber:["",c.kI.compose([c.kI.required])],totalTicket:[1,c.kI.compose([c.kI.required,c.kI.min(1)])],totalChildTicket:[0,c.kI.compose([c.kI.required,c.kI.min(0)])],description:["",c.kI.compose([c.kI.required,c.kI.minLength(3)])],tourishScheduleId:["",c.kI.compose([c.kI.required])]}),this.getRatingForTour(),this.getTourImage(),this.getTour(),this.getAccount()}getDuration(){if(this.tourishPlan?.startDate&&this.tourishPlan?.endDate){const e=new Date(this.tourishPlan?.startDate),n=new Date(this.tourishPlan?.endDate),H=n.getTime()-e.getTime(),N=Math.ceil(H/864e5);if(1===N)return"1 ng\xe0y";if(N>1){const T=N-1;return n.getDate()!==e.getDate()+1?`${N} ng\xe0y ${T} \u0111\xeam`:`${N} ng\xe0y ${T+1} \u0111\xeam`}return"Trong ng\xe0y"}return"Trong ng\xe0y"}getSanitizedContent(e){return this.sanitizer.bypassSecurityTrustHtml(e)}getAccount(){if("User"==this.tokenStorageService.getUserRole()){const n={id:this.tokenStorageService.getUser().Id};this.http.post("/api/User/SelfGetUser",null,{params:n}).subscribe(H=>{H&&(this.user=H.data,this.setTourForm.controls.phoneNumber.setValue(this.user.phoneNumber),this.setTourForm.controls.email.setValue(this.user.email),this.setTourForm.controls.address.setValue(this.user.address),this.setTourForm.controls.name.setValue(this.user.fullName))})}}getTour(){this.http.get("/api/GetTourishPlan/"+this.tourishPlanId).subscribe(e=>{this.tourishPlan=e.data,this.tourDescription=this.tourishPlan?.description??"",this.getVehicleFlag(),this.tourishPlan?.tourishScheduleList&&this.setTourForm.controls.tourishScheduleId.setValue(this.tourishPlan?.tourishScheduleList[0].id??"")})}getTourImage(){this.http.get("/api/GetFile",{params:{resourceId:this.tourishPlanId,resourceType:1}}).subscribe(n=>{this.tourImage=n.data,this.tourImage.length>0&&this.pushImageToList(),console.log(n)})}pushImageToList(){let e=0;this.tourImage.forEach(n=>{e++,this.slides=[...this.slides,{url:A.N.backend.blobURL+"/1-container/1_"+n.id+n.fileType,title:"slide: "+e,description:"This is the slide "+e}]})}getTotalPrice(){let e=0;return this.tourishPlan&&(this.tourishPlan.stayingSchedules?.forEach(n=>{e+=n.singlePrice??0}),this.tourishPlan.eatSchedules?.forEach(n=>{e+=n.singlePrice??0}),this.tourishPlan.movingSchedules?.forEach(n=>{e+=n.singlePrice??0})),e}getVehicleFlag(){this.tourishPlan&&this.tourishPlan.movingSchedules?.forEach(e=>{0===e.vehicleType?this.isMovingContactPresent=!0:1===e.vehicleType?this.isPlanePresent=!0:2===e.vehicleType&&(this.isTrainPresent=!0)})}register(){const e={guestName:this.setTourForm.value.name,email:this.setTourForm.value.email,phoneNumber:this.setTourForm.value.phoneNumber,totalTicket:this.setTourForm.value.totalTicket,totalChildTicket:this.setTourForm.value.totalChildTicket,tourishPlanId:this.tourishPlanId,tourishScheduleId:this.setTourForm.value.tourishScheduleId};this.messageService.openLoadingDialog(),this.http.post("/api/AddReceipt/client",e).subscribe(n=>{n&&(this.messageService.closeAllDialog(),this.messageService.openMessageNotifyDialog(n.messageCode))})}getRatingForTour(){this.http.get("/api/GetTourRating/tourishplan",{params:{tourishPlanId:this.tourishPlanId}}).subscribe(n=>{n&&(console.log("abc",n),this.ratingAverage=n.averagePoint)})}showIcon(e){return this.ratingAverage>=e+1?"star":"star_border"}getStatusPhase(e){switch(parseInt(e)){case 0:return"Ch\u1edd x\xe1c nh\u1eadn";case 1:return"X\xe1c nh\u1eadn th\xf4ng tin";case 2:return"\u0110ang di\u1ec5n ra";case 3:return"Ho\xe0n th\xe0nh";case 4:return"H\u1ee7y b\u1ecf";default:return"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}}getDateFormat(e){const n=null!=e?e.toString()??"":"",H=new Date(n),N=H.getDate(),T=H.getMonth()+1;return H.getFullYear(),H.getHours(),H.getHours(),`Ng\xe0y ${N} th\xe1ng ${T}`}}return l.\u0275fac=function(e){return new(e||l)(a.Y36(c.qu),a.Y36(R.gz),a.Y36(w.eN),a.Y36(D.H7),a.Y36(a.Qsj),a.Y36(B.e),a.Y36(a.SBq),a.Y36(U.i))},l.\u0275cmp=a.Xpm({type:l,selectors:[["app-tourish-detail"]],viewQuery:function(e,n){if(1&e&&a.Gf(r.PG,5),2&e){let H;a.iGM(H=a.CRH())&&(n.editor=H.first)}},inputs:{data:"data"},decls:147,vars:38,consts:[[1,"container"],[3,"indicatorsVisible","animationSpeed","slides","autoPlay","autoPlaySpeed"],[1,"below-title"],["aria-hidden","true",1,"fa","fa-location-arrow"],["aria-hidden","true",1,"fa","fa-clock-o"],["class","fa fa-bus","aria-hidden","true",4,"ngIf"],["class","fa fa-plane","aria-hidden","true",4,"ngIf"],["class","fa fa-train","aria-hidden","true",4,"ngIf"],["id","rating"],["mat-icon-button","","matTooltipPosition","above",3,"id","matTooltip",4,"ngFor","ngForOf"],[2,"margin","7px","font-weight","bold","font-size","24px"],[1,"tour-description"],[2,"width","90% !important",3,"blobName","containerName","editable"],[1,"tour-name"],["label","L\u1ecbch tr\xecnh \u0103n u\u1ed1ng"],["matTabContent",""],["label","L\u1ecbch tr\xecnh di chuy\u1ec3n"],["label","L\u1ecbch tr\xecnh n\u01a1i \u1edf"],[1,"title"],["label","Gi\xe1 bao g\u1ed3m"],[1,"price-container"],[2,"font-weight","bold"],[4,"ngIf"],[4,"ngFor","ngForOf"],["label","Gi\xe1 kh\xf4ng bao g\u1ed3m"],["label","L\u01b0u \xfd"],[1,"table","table-striped"],["scope","col"],[1,"register-container"],[1,"row","tour-register",2,"height","fit-content !important",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","create-form"],[1,"col-xs-12","col-sm-12","col-md-4","col-lg-4","create-form"],["appearance","outline",1,"full-width-input"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","name"],[3,"formGroup","formGroupControlName",4,"ngIf"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","address"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","email"],["matInput","","fullwidth","","placeholder","Vd: 123456789","formControlName","phoneNumber"],["type","number","matInput","","fullwidth","","placeholder","Vd: 2","formControlName","totalTicket"],["type","number","matInput","","fullwidth","","placeholder","Vd: 2","formControlName","totalChildTicket"],[1,"col-xs-12","col-sm-12","col-md-4","col-lg-4","create-form",2,"margin-bottom","10px"],["required","","formControlName","tourishScheduleId"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-12","col-md-8","col-lg-8","create-form"],["mat-flat-button","","color","primary",2,"width","100%","height","56px","font-size","16px",3,"click"],[3,"tourishPlanId"],["aria-hidden","true",1,"fa","fa-bus"],["aria-hidden","true",1,"fa","fa-plane"],["aria-hidden","true",1,"fa","fa-train"],["mat-icon-button","","matTooltipPosition","above",3,"id","matTooltip"],["ratingButton",""],[3,"ngStyle"],["class","schedule-description",4,"ngIf"],[1,"schedule-description"],["style","z-index: 0 !important",3,"blobName","containerName","editable",4,"ngFor","ngForOf"],[2,"z-index","0 !important",3,"blobName","containerName","editable"],["style","z-index: 0",3,"blobName","containerName","editable",4,"ngFor","ngForOf"],[2,"z-index","0",3,"blobName","containerName","editable"],["matListItemTitle",""],["matListItemLine",""],["scope","row"],[3,"formGroup","formGroupControlName"],[3,"value"]],template:function(e,n){if(1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-image-slider",1),a.TgZ(2,"div",2)(3,"span"),a._UZ(4,"i",3),a._uU(5),a.qZA(),a.TgZ(6,"span"),a._UZ(7,"i",4),a._uU(8),a.qZA(),a.TgZ(9,"span"),a.YNc(10,NS,1,0,"i",5),a.YNc(11,SS,1,0,"i",6),a.YNc(12,_S,1,0,"i",7),a.qZA(),a.TgZ(13,"span",8),a.YNc(14,TS,4,5,"button",9),a.qZA(),a.TgZ(15,"h4",10),a._uU(16),a.qZA()(),a.TgZ(17,"div",11),a._UZ(18,"app-tiny-mce-editor",12),a.qZA(),a.TgZ(19,"div",11)(20,"h4",13),a._uU(21,"H\u01b0\u1edbng d\u1eabn vi\xean"),a.qZA(),a._uU(22," H\u01b0\u1edbng D\u1eabn Vi\xean (HDV) s\u1ebd li\xean l\u1ea1c v\u1edbi Qu\xfd Kh\xe1ch kho\u1ea3ng 1 ng\xe0y tr\u01b0\u1edbc khi kh\u1edfi h\xe0nh \u0111\u1ec3 s\u1eafp x\u1ebfp gi\u1edd \u0111\xf3n v\xe0 cung c\u1ea5p c\xe1c th\xf4ng tin c\u1ea7n thi\u1ebft cho chuy\u1ec3n \u0111i. "),a.qZA(),a.TgZ(23,"div",11)(24,"mat-tab-group")(25,"mat-tab",14),a.YNc(26,wS,1,1,"ng-template",15),a.qZA(),a.TgZ(27,"mat-tab",16),a.YNc(28,yS,1,1,"ng-template",15),a.qZA(),a.TgZ(29,"mat-tab",17),a.YNc(30,BS,1,1,"ng-template",15),a.qZA()()(),a.TgZ(31,"div",11)(32,"div",18)(33,"h4",13),a._uU(34,"Chi ti\u1ebft gi\xe1"),a.qZA()(),a.TgZ(35,"mat-tab-group")(36,"mat-tab",19)(37,"div",20)(38,"p")(39,"span",21),a._uU(40,"T\u1ed5ng gi\xe1:"),a.qZA(),a._uU(41),a.qZA(),a.YNc(42,US,2,0,"h3",22),a.TgZ(43,"mat-list"),a.YNc(44,OS,7,3,"mat-list-item",23),a.qZA(),a.YNc(45,ZS,2,0,"h3",22),a.TgZ(46,"mat-list"),a.YNc(47,RS,7,3,"mat-list-item",23),a.qZA(),a.YNc(48,IS,2,0,"h3",22),a.TgZ(49,"mat-list"),a.YNc(50,qS,7,3,"mat-list-item",23),a.qZA()()(),a.TgZ(51,"mat-tab",24)(52,"div",20)(53,"p"),a._uU(54," - H\u1ed9 chi\u1ebfu ph\u1ea3i c\xf2n th\u1eddi h\u1ea1n s\u1eed d\u1ee5ng tr\xean 6 th\xe1ng, T\xednh t\u1eeb ng\xe0y kh\u1edfi h\xe0nh \u0111i v\xe0 v\u1ec1. "),a.qZA(),a.TgZ(55,"p"),a._uU(56," - H\xe0nh l\xfd qu\xe1 c\u01b0\u1edbc qui \u0111\u1ecbnh. Xe v\u1eadn chuy\u1ec3n ngo\xe0i ch\u01b0\u01a1ng tr\xecnh + C\xe1c show v\u1ec1 \u0111\xeam. "),a.qZA(),a.TgZ(57,"p"),a._uU(58," - \u0110i\u1ec7n tho\u1ea1i, gi\u1eb7t \u1ee7i, n\u01b0\u1edbc u\u1ed1ng trong ph\xf2ng kh\xe1ch s\u1ea1n v\xe0 c\xe1c chi ph\xed c\xe1 nh\xe2n kh\xe1c. "),a.qZA()()(),a.TgZ(59,"mat-tab",25)(60,"div",20)(61,"p"),a._uU(62," - Du kh\xe1ch Vi\u1ec7t Ki\u1ec1u ho\u1eb7c n\u01b0\u1edbc ngo\xe0i ph\u1ea3i c\xf3 visa t\xe1i nh\u1eadp nhi\u1ec1u l\u1ea7n ho\u1eb7c mi\u1ec5n th\u1ecb th\u1ef1c 5 n\u0103m v\xe0 mang theo khi tham gia tour. "),a.qZA(),a.TgZ(63,"p"),a._uU(64," - Tr\u1ebb em d\u01b0\u1edbi 16 tu\u1ed5i ph\u1ea3i c\xf3 b\u1ed1 m\u1eb9 \u0111i c\xf9ng ho\u1eb7c ng\u01b0\u1eddi \u0111\u01b0\u1ee3c u\u1ef7 quy\u1ec1n c\xf3 gi\u1ea5y u\u1ef7 quy\u1ec1n t\u1eeb b\u1ed1 m\u1eb9. "),a.qZA(),a.TgZ(65,"p"),a._uU(66," - H\u1ed9 chi\u1ebfu ph\u1ea3i mang theo b\u1ea3n g\u1ed1c h\u1ee3p l\u1ec7 kh\xf4ng b\u1ecb r\u1ea1n, phai m\u1edd, v\xe0 c\xf2n th\u1eddi h\u1ea1n s\u1eed d\u1ee5ng tr\xean 6 th\xe1ng (t\xednh t\u1eeb ng\xe0y kh\u1edfi h\xe0nh). "),a.qZA(),a.TgZ(67,"p"),a._uU(68," - Kh\xf4ng s\u1eed d\u1ee5ng th\u1ebb xanh. N\u1ebfu s\u1eed d\u1ee5ng S\u1ed5 Du l\u1ecbch (y\xeau c\u1ea7u visa n\u01b0\u1edbc nh\u1eadp c\u1ea3nh), vui l\xf2ng th\xf4ng b\xe1o cho nh\xe2n vi\xean nh\u1eadn tour n\u1ebfu Qu\xfd kh\xe1ch s\u1eed d\u1ee5ng c\xe1c h\u1ed3 s\u01a1 kh\xe1c ngo\xe0i h\u1ed9 chi\u1ebfu. "),a.qZA(),a.TgZ(69,"p"),a._uU(70," - C\xf4ng ty du l\u1ecbch kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m n\u1ebfu Qu\xfd kh\xe1ch b\u1ecb t\u1eeb ch\u1ed1i nh\u1eadp c\u1ea3nh v\u1edbi b\u1ea5t k\u1ef3 l\xfd do n\xe0o t\u1eeb h\u1ea3i quan n\u01b0\u1edbc ngo\xe0i. "),a.qZA(),a.TgZ(71,"p"),a._uU(72," - C\xf4ng ty \u0111\u01b0\u1ee3c ph\xe9p thay \u0111\u1ed5i l\u1ecbch tr\xecnh chuy\u1ebfn \u0111i v\xe0 s\u1eed d\u1ee5ng c\xe1c h\xe3ng h\xe0ng kh\xf4ng thay th\u1ebf, nh\u01b0ng v\u1eabn \u0111\u1ea3m b\u1ea3o tham quan \u0111\u1ea7y \u0111\u1ee7 c\xe1c \u0111i\u1ec3m theo ch\u01b0\u01a1ng tr\xecnh. "),a.qZA(),a.TgZ(73,"p"),a._uU(74," - Th\u1ee9 t\u1ef1 \u0111i\u1ec3m tham quan v\xe0 l\u1ed9 tr\xecnh c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo t\xecnh h\xecnh th\u1ef1c t\u1ebf, nh\u01b0ng v\u1eabn \u0111\u1ea3m b\u1ea3o \u0111\u1ea7y \u0111\u1ee7 c\xe1c \u0111i\u1ec3m tham quan nh\u01b0 ban \u0111\u1ea7u. "),a.qZA(),a.TgZ(75,"p"),a._uU(76," - Trong tr\u01b0\u1eddng h\u1ee3p b\u1ea5t kh\u1ea3 kh\xe1ng nh\u01b0 kh\u1ee7ng b\u1ed1, thi\xean tai ho\u1eb7c thay \u0111\u1ed5i l\u1ecbch tr\xecnh c\u1ee7a ph\u01b0\u01a1ng ti\u1ec7n c\xf4ng c\u1ed9ng (m\xe1y bay, t\xe0u h\u1ecfa...), C\xf4ng ty du l\u1ecbch gi\u1eef quy\u1ec1n \u0111i\u1ec1u ch\u1ec9nh l\u1ed9 tr\xecnh tour cho ph\xf9 h\u1ee3p v\xe0 an to\xe0n cho kh\xe1ch h\xe0ng, m\xe0 kh\xf4ng ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m b\u1ed3i th\u01b0\u1eddng thi\u1ec7t h\u1ea1i ph\xe1t sinh. "),a.qZA()()()()(),a.TgZ(77,"div",11)(78,"div",18)(79,"h4",13),a._uU(80,"Danh s\xe1ch l\u1ecbch tr\xecnh hi\u1ec7n c\xf3:"),a.qZA()(),a.TgZ(81,"table",26)(82,"thead")(83,"tr")(84,"th",27),a._uU(85,"STT"),a.qZA(),a.TgZ(86,"th",27),a._uU(87,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),a.qZA(),a.TgZ(88,"th",27),a._uU(89,"Ng\xe0y k\u1ebft th\xfac"),a.qZA(),a.TgZ(90,"th",27),a._uU(91,"T\xecnh tr\u1ea1ng"),a.qZA()()(),a.TgZ(92,"tbody"),a.YNc(93,GS,9,4,"tr",23),a.qZA()()(),a.TgZ(94,"div",11)(95,"div",28)(96,"div",29)(97,"div",30)(98,"h4",13),a._uU(99,"\u0110\u1eb7t v\xe9 ngay"),a.qZA()(),a.TgZ(100,"div",31)(101,"mat-form-field",32)(102,"mat-label"),a._uU(103,"H\u1ecd & t\xean"),a.qZA(),a._UZ(104,"input",33),a.qZA(),a.YNc(105,QS,1,2,"app-validation",34),a.qZA(),a.TgZ(106,"div",31)(107,"mat-form-field",32)(108,"mat-label"),a._uU(109,"\u0110\u1ecba ch\u1ec9"),a.qZA(),a._UZ(110,"input",35),a.qZA(),a.YNc(111,WS,1,2,"app-validation",34),a.qZA(),a.TgZ(112,"div",31)(113,"mat-form-field",32)(114,"mat-label"),a._uU(115,"Email"),a.qZA(),a._UZ(116,"input",36),a.qZA(),a.YNc(117,JS,1,2,"app-validation",34),a.qZA(),a.TgZ(118,"div",31)(119,"mat-form-field",32)(120,"mat-label"),a._uU(121,"S\u0111t li\xean l\u1ea1c"),a.qZA(),a._UZ(122,"input",37),a.qZA(),a.YNc(123,jS,1,2,"app-validation",34),a.qZA(),a.TgZ(124,"div",31)(125,"mat-form-field",32)(126,"mat-label"),a._uU(127,"S\u1ed1 v\xe9 (Ng\u01b0\u1eddi l\u1edbn > 10 tu\u1ed5i)"),a.qZA(),a._UZ(128,"input",38),a.qZA(),a.YNc(129,YS,1,2,"app-validation",34),a.qZA(),a.TgZ(130,"div",31)(131,"mat-form-field",32)(132,"mat-label"),a._uU(133,"S\u1ed1 v\xe9 (Tr\u1ebb em < 10 tu\u1ed5i)"),a.qZA(),a._UZ(134,"input",39),a.qZA(),a.YNc(135,KS,1,2,"app-validation",34),a.qZA(),a.TgZ(136,"div",40)(137,"mat-form-field",32)(138,"mat-label"),a._uU(139,"L\u1ecbch tr\xecnh"),a.qZA(),a.TgZ(140,"mat-select",41),a.YNc(141,XS,2,2,"mat-option",42),a.qZA()()(),a.TgZ(142,"div",43)(143,"button",44),a.NdJ("click",function(){return n.register()}),a._uU(144," G\u1eedi "),a.qZA()()()()(),a.TgZ(145,"div",11),a._UZ(146,"app-comment-section",45),a.qZA()()),2&e){let H,N,T,O,$,c2,H1,R7,I7,q7,G7,Q7;a.xp6(1),a.Q6J("indicatorsVisible",!0)("animationSpeed",400)("slides",n.slides)("autoPlay",!0)("autoPlaySpeed",6e3),a.xp6(4),a.hij(" ",null==n.tourishPlan?null:n.tourishPlan.endPoint,""),a.xp6(3),a.hij(" ",n.getDuration(),""),a.xp6(2),a.Q6J("ngIf",n.isMovingContactPresent),a.xp6(1),a.Q6J("ngIf",n.isPlanePresent),a.xp6(1),a.Q6J("ngIf",n.isTrainPresent),a.xp6(2),a.Q6J("ngForOf",n.ratingArr),a.xp6(2),a.hij("(",n.ratingAverage,")"),a.xp6(2),a.Q6J("blobName",n.tourishPlanId)("containerName","tourish-content-container")("editable",!1),a.xp6(23),a.hij(" ",n.getTotalPrice(),". D\u1ecbch v\u1ee5 bao g\u1ed3m: "),a.xp6(1),a.Q6J("ngIf",(null!==(H=null==n.tourishPlan?null:n.tourishPlan.eatSchedules)&&void 0!==H?H:a.DdM(32,X)).length>0),a.xp6(2),a.Q6J("ngForOf",null!==(N=null==n.tourishPlan?null:n.tourishPlan.eatSchedules)&&void 0!==N?N:a.DdM(33,X)),a.xp6(1),a.Q6J("ngIf",(null!==(T=null==n.tourishPlan?null:n.tourishPlan.movingSchedules)&&void 0!==T?T:a.DdM(34,X)).length>0),a.xp6(2),a.Q6J("ngForOf",null!==(O=null==n.tourishPlan?null:n.tourishPlan.movingSchedules)&&void 0!==O?O:a.DdM(35,X)),a.xp6(1),a.Q6J("ngIf",(null!==($=null==n.tourishPlan?null:n.tourishPlan.stayingSchedules)&&void 0!==$?$:a.DdM(36,X)).length>0),a.xp6(2),a.Q6J("ngForOf",null!==(c2=null==n.tourishPlan?null:n.tourishPlan.stayingSchedules)&&void 0!==c2?c2:a.DdM(37,X)),a.xp6(43),a.Q6J("ngForOf",null==n.tourishPlan?null:n.tourishPlan.tourishScheduleList),a.xp6(3),a.Q6J("formGroup",n.setTourForm),a.xp6(9),a.Q6J("ngIf",null==(H1=n.setTourForm.get("name"))?null:H1.touched),a.xp6(6),a.Q6J("ngIf",null==(R7=n.setTourForm.get("address"))?null:R7.touched),a.xp6(6),a.Q6J("ngIf",null==(I7=n.setTourForm.get("email"))?null:I7.touched),a.xp6(6),a.Q6J("ngIf",null==(q7=n.setTourForm.get("phoneNumber"))?null:q7.touched),a.xp6(6),a.Q6J("ngIf",null==(G7=n.setTourForm.get("totalTicket"))?null:G7.touched),a.xp6(6),a.Q6J("ngIf",null==(Q7=n.setTourForm.get("totalChildTicket"))?null:Q7.touched),a.xp6(6),a.Q6J("ngForOf",null==n.tourishPlan?null:n.tourishPlan.tourishScheduleList),a.xp6(5),a.Q6J("tourishPlanId",n.tourishPlanId)}},dependencies:[b.i$,b.Tg,b.WW,b.sL,P.Vc,P.uX,P.SP,Z.KE,Z.hX,x.gD,E.ey,u.Nt,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,d.Hw,F.lW,F.RK,y.sg,y.O5,y.PC,q.gM,G.c,rS,u1.D,xS],styles:[".container[_ngcontent-%COMP%]{width:100%}.below-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;padding:15px 10px;background-color:#e3e7ed;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]     .tour-description .tox-tinymce{border-radius:0!important;border:none!important}[_nghost-%COMP%]     .schedule-description .tox-tinymce{border-radius:0!important;border:none!important}.below-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px;margin-right:20px}.below-title[_ngcontent-%COMP%]   span#rating[_ngcontent-%COMP%]{font-weight:300!important;font-size:20px;margin-left:auto}.tour-description[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;padding:15px 10px;font-size:16px}.tour-description[_ngcontent-%COMP%]   h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:15px!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px!important}.html-show-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;overflow-x:auto}.mce-content-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tour-register[_ngcontent-%COMP%]{width:70%;background-color:#fff;padding:20px 30px;border-radius:10px;box-shadow:0 4px 6px #0000001a}.register-container[_ngcontent-%COMP%]{min-height:400px;height:-moz-fit-content;height:fit-content;width:100%;background-image:url(https://bookstore1storage.blob.core.windows.net/0-container/register-background.jpg);background-size:cover;background-repeat:no-repeat;display:flex;flex-direction:row;justify-content:center;align-items:center}.tour-description[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{padding:15px}.tour-description[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0;padding-bottom:0}  .mat-mdc-tab-body-wrapper{z-index:0!important}"]}),l})()},6360:(K,I,m)=>{m.d(I,{B:()=>W});var c=m(4650),r=m(4006),A=m(529),a=m(6582),R=m(694),w=m(9549),D=m(4144),B=m(4859),U=m(6895),b=m(7100),P=m(9602),Z=m(5232),x=m(5176);const E=["picker"],u=["packContainer"];function d(_,k){if(1&_&&c._UZ(0,"app-tourish-card",7),2&_){const g=k.$implicit,C=c.oxw();let S;c.Q6J("id",null!==(S=g.id)&&void 0!==S?S:"")("tourName",g.tourName)("tourPrice",C.getTotalPrice(g))}}let F=(()=>{class _{constructor(g,C,S){this.fb=g,this.renderer=C,this.http=S,this.category="Du l\u1ecbch h\xe0nh h\u01b0\u01a1ng",this.description="T\xecm V\u1ec1 Ch\u1ed1n Thi\xeang, L\xf2ng Ng\u01b0\u1eddi An B\xecnh",this.active=1,this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.tourishPLanList=[],this.length=0,this.color="primary"}ngOnInit(){this.getTourPack()}ngAfterViewInit(){this.adjustSize(),new ResizeObserver(C=>{for(const S of C)this.adjustSize()}).observe(this.packContainer.nativeElement)}adjustSize(){let g=parseInt(this.packContainer.nativeElement.offsetWidth,0);g>=1700?(console.log("here"),this.renderer.setStyle(this.packContainer.nativeElement,"padding","30px 18% 30px")):this.renderer.setStyle(this.packContainer.nativeElement,"padding",g<1700&&g>=1500?"30px 13% 30px":g<1500&&g>=1200||g<1200&&g>=900?"30px 12% 30px":"30px 10% 30px")}getTourPack(){this.http.get("/api/GetTourishPlan",{params:{page:1,category:this.category,pageSize:6}}).subscribe(C=>{this.tourishPLanList=C.data,console.log(C),this.length=C.count})}getTotalPrice(g){let C=0;return g.stayingSchedules?.forEach(S=>{C+=S.singlePrice??0}),g.eatSchedules?.forEach(S=>{C+=S.singlePrice??0}),g.movingSchedules?.forEach(S=>{C+=S.singlePrice??0}),C}capitalizeFirstLetter(g){return g.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" ")}}return _.\u0275fac=function(g){return new(g||_)(c.Y36(r.qu),c.Y36(c.Qsj),c.Y36(A.eN))},_.\u0275cmp=c.Xpm({type:_,selectors:[["app-tourish-pack"]],viewQuery:function(g,C){if(1&g&&(c.Gf(E,5),c.Gf(u,5)),2&g){let S;c.iGM(S=c.CRH())&&(C.eatingPicker=S.first),c.iGM(S=c.CRH())&&(C.packContainer=S.first)}},inputs:{category:"category",description:"description"},decls:12,vars:3,consts:[["id","pack-container",1,"pack-container"],["packContainer",""],[1,"tourish-pack-description"],[1,"tourish-pack"],[3,"id","tourName","tourPrice",4,"ngFor","ngForOf"],[1,"tourish-button"],["mat-stroked-button","",2,"color","rgb(4, 201, 201)","font-size","16px"],[3,"id","tourName","tourPrice"]],template:function(g,C){1&g&&(c.TgZ(0,"div",0,1)(2,"div",2)(3,"h3"),c._uU(4),c.qZA(),c.TgZ(5,"h4"),c._uU(6),c.qZA()(),c.TgZ(7,"div",3),c.YNc(8,d,1,3,"app-tourish-card",4),c.qZA(),c.TgZ(9,"div",5)(10,"button",6),c._uU(11," Xem th\xeam "),c.qZA()()()),2&g&&(c.xp6(4),c.hij("Tour ",C.capitalizeFirstLetter(C.category),""),c.xp6(2),c.Oqu(C.description),c.xp6(2),c.Q6J("ngForOf",C.tourishPLanList))},dependencies:[B.lW,U.sg,x.Q],styles:[".pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;background-color:inherit;padding:30px 12%}.tourish-pack[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:wrap;background-color:inherit}.tourish-pack-description[_ngcontent-%COMP%]{background-color:inherit}.tourish-pack[_ngcontent-%COMP%]   app-tourish-card[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:10px;margin-right:10px}.tourish-pack-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.tourish-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}"]}),_})();const y=["picker"];function q(_,k){if(1&_&&c._UZ(0,"app-validation",24),2&_){const g=c.oxw();c.Q6J("formGroup",g.setTourForm)("formGroupControlName","endPoint")}}function G(_,k){if(1&_&&c._UZ(0,"app-validation",24),2&_){const g=c.oxw();c.Q6J("formGroup",g.setTourForm)("formGroupControlName","startingPoint")}}function Y(_,k){if(1&_&&c._UZ(0,"app-validation",24),2&_){const g=c.oxw();c.Q6J("formGroup",g.setTourForm)("formGroupControlName","startingDate")}}function Q(_,k){if(1&_&&c._UZ(0,"app-tourish-pack",25),2&_){const g=k.$implicit;c.Q6J("category",g.name)("description",g.description)}}let W=(()=>{class _{constructor(g,C,S,J){this.fb=g,this.http=C,this.router=S,this.tokenStorageService=J,this.active=1,this.categoryList=[],this.length=5,this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.color="primary"}ngOnInit(){this.setTourForm=this.fb.group({endPoint:[""],startingDate:[""],startingPoint:[""]}),this.getCategory()}getCategory(){this.http.get("/api/GetTourCategory",{params:{page:1,pageSize:6}}).subscribe(C=>{this.categoryList=C.data,console.log(C),this.length=C.count})}navigateToSearch(){const g={startingPoint:this.setTourForm.value.startingPoint,endPoint:this.setTourForm.value.endPoint,startingDate:this.setTourForm.value.startingDate};"User"===this.tokenStorageService.getUserRole()&&this.router.navigate(["user/search-page"],{queryParams:g}),this.router.navigate(["guest/search-page"],{queryParams:g})}}return _.\u0275fac=function(g){return new(g||_)(c.Y36(r.qu),c.Y36(A.eN),c.Y36(a.F0),c.Y36(R.i))},_.\u0275cmp=c.Xpm({type:_,selectors:[["app-tourish-main"]],viewQuery:function(g,C){if(1&g&&c.Gf(y,5),2&g){let S;c.iGM(S=c.CRH())&&(C.eatingPicker=S.first)}},inputs:{data:"data"},decls:57,vars:12,consts:[[1,"search-container"],[1,"tour-search"],[1,"row",2,"height","fit-content !important",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","create-form"],[1,"tour-name"],["appearance","outline",1,"full-width-input"],["matInput","","fullwidth","","placeholder","Vd: \u0110\xe0 N\u1eb5ng","formControlName","endPoint"],[3,"formGroup","formGroupControlName",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-4","col-lg-4","create-form"],["matInput","","fullwidth","","placeholder","Vd: H\xe0 N\u1ed9i","formControlName","startingPoint"],["matInput","","placeholder","Choose a date","formControlName","startingDate",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","touchUi","color","enableMeridian"],["picker",""],[1,"col-xs-12","col-sm-12","col-md-3","col-lg-3","create-form"],["mat-raised-button","","color","primary",2,"height","56px","font-size","14px",3,"click","keyup.enter"],[1,"page-info-container"],[1,"page-info"],[1,"page-info-image"],["src","https://bookstore1storage.blob.core.windows.net/0-container/tour-guide.png","alt",""],[1,"info-description"],["src","https://bookstore1storage.blob.core.windows.net/0-container/trust.png","alt",""],["src","https://bookstore1storage.blob.core.windows.net/0-container/live-chat.png","alt",""],[3,"category","description",4,"ngFor","ngForOf"],[3,"formGroup","formGroupControlName"],[3,"category","description"]],template:function(g,C){if(1&g&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),c._uU(5,"T\xecm ki\u1ebfm ngay"),c.qZA()(),c.TgZ(6,"div",3)(7,"mat-form-field",5)(8,"mat-label"),c._uU(9,"B\u1ea1n mu\u1ed1n \u0111i \u0111\xe2u"),c.qZA(),c._UZ(10,"input",6),c.qZA(),c.YNc(11,q,1,2,"app-validation",7),c.qZA(),c.TgZ(12,"div",8)(13,"mat-form-field",5)(14,"mat-label"),c._uU(15,"N\u01a1i b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(16,"input",9),c.qZA(),c.YNc(17,G,1,2,"app-validation",7),c.qZA(),c.TgZ(18,"div",8)(19,"mat-form-field",5)(20,"mat-label"),c._uU(21,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(22,"input",10)(23,"mat-datepicker-toggle",11)(24,"ngx-mat-datetime-picker",12,13),c.qZA(),c.YNc(26,Y,1,2,"app-validation",7),c.qZA(),c.TgZ(27,"div",14)(28,"button",15),c.NdJ("click",function(){return C.navigateToSearch()})("keyup.enter",function(){return C.navigateToSearch()}),c._uU(29," T\xecm "),c.qZA()()()()(),c.TgZ(30,"div",16)(31,"div",17)(32,"div",18),c._UZ(33,"img",19),c.qZA(),c.TgZ(34,"div",20)(35,"h3"),c._uU(36,"H\u1ec7 th\u1ed1ng tour \u0111a d\u1ea1ng"),c.qZA(),c.TgZ(37,"h4"),c._uU(38,"Bao ph\u1ee7 c\xe1c tour trong v\xe0 ngo\xe0i n\u01b0\u1edbc"),c.qZA()()(),c.TgZ(39,"div",17)(40,"div",18),c._UZ(41,"img",21),c.qZA(),c.TgZ(42,"div",20)(43,"h3"),c._uU(44,"\u0110\u1ed9 tin c\u1eady cao"),c.qZA(),c.TgZ(45,"h4"),c._uU(46,"Li\xean k\u1ebft v\u1edbi c\xe1c \u0111\u01a1n v\u1ecb tin c\u1eady, trung th\xe0nh"),c.qZA()()(),c.TgZ(47,"div",17)(48,"div",18),c._UZ(49,"img",22),c.qZA(),c.TgZ(50,"div",20)(51,"h3"),c._uU(52,"T\u01b0 V\u1ea5n Chuy\xean Nghi\u1ec7p"),c.qZA(),c.TgZ(53,"h4"),c._uU(54,"H\u1ed7 tr\u1ee3 nhi\u1ec7t t\xecnh, ch\u0103m s\xf3c chu \u0111\xe1o"),c.qZA()()()(),c.TgZ(55,"div"),c.YNc(56,Q,1,2,"app-tourish-pack",23),c.qZA()),2&g){const S=c.MAs(25);c.xp6(2),c.Q6J("formGroup",C.setTourForm),c.xp6(9),c.Q6J("ngIf",C.isSubmit),c.xp6(6),c.Q6J("ngIf",C.isSubmit),c.xp6(5),c.Q6J("ngxMatDatetimePicker",S),c.xp6(1),c.Q6J("for",S),c.xp6(1),c.Q6J("showSpinners",!0)("showSeconds",!0)("touchUi",C.touchUi)("color",C.color)("enableMeridian",C.enableMeridian),c.xp6(2),c.Q6J("ngIf",C.isSubmit),c.xp6(30),c.Q6J("ngForOf",C.categoryList)}},dependencies:[w.KE,w.hX,w.R9,D.Nt,r.Fj,r.JJ,r.JL,r.sg,r.u,B.lW,U.sg,U.O5,b.rZ,b.T$,P.nW,Z.c,F],styles:['.search-container[_ngcontent-%COMP%]{min-height:400px;height:-moz-fit-content;height:fit-content;width:100%;background-image:url("https://bookstore1storage.blob.core.windows.net/start-container/painting-mountain-lake-with-mountain-background%20(1).jpg");background-size:cover;background-repeat:no-repeat;display:flex;flex-direction:row;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:100%;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;padding-top:15px;padding-bottom:15px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0!important}.tour-search[_ngcontent-%COMP%]{width:50%;background-color:#fff;padding:20px 30px;border-radius:10px;box-shadow:0 4px 6px #0000001a}.tour-search[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]   ng-tns-c23-2[_ngcontent-%COMP%]{background-color:#fff}.container[_ngcontent-%COMP%]{width:100%}.below-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:15px 10px;background-color:#e3e7ed;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.below-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px;margin-right:20px}.below-title[_ngcontent-%COMP%]   span#tour-id[_ngcontent-%COMP%]{font-weight:300!important;font-size:20px;margin-left:auto}.tour-description[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;padding:15px 10px;font-size:16px}.tour-description[_ngcontent-%COMP%]   h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px!important}app-tourish-pack[_ngcontent-%COMP%]:nth-child(odd){background-color:#ecf0f5!important}h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:20px}']}),_})()},7267:(K,I,m)=>{m.d(I,{h:()=>t});var c=m(4650),r=m(4006),A=m(529),a=m(6582),R=m(6338),w=m(4850),D=m(9549),B=m(4144),U=m(4859),b=m(3546),P=m(6895),Z=m(7100),x=m(9602),E=m(5232),u=m(1572),d=m(2340),F=m(694);const y=function(h){return{"background-color":h}};function q(h,V){if(1&h&&(c.TgZ(0,"mat-card",13),c._uU(1),c.qZA()),2&h){const o=c.oxw();c.Q6J("ngStyle",c.VKq(2,y,o.getRateColor(o.score))),c.xp6(1),c.Oqu(o.score)}}function G(h,V){1&h&&(c.TgZ(0,"p",14),c._uU(1,"|"),c.qZA())}function Y(h,V){if(1&h&&(c.TgZ(0,"p",15),c._uU(1),c.qZA()),2&h){const o=c.oxw();c.xp6(1),c.hij("",o.judgeNumber," \u0111\xe1nh gi\xe1")}}let Q=(()=>{class h{constructor(o,p,L){this.router=o,this.tokenStorageService=p,this.http=L,this.score=4,this.id="",this.judgeNumber=0,this.tourName="",this.tourPrice=14e5,this.customerNumber=19,this.firstImageUrl="",this.tourImage=[]}ngOnInit(){this.getTourImage(),this.getRatingForTour()}getRateString(o){return this.judgeNumber<=0?"Ch\u01b0a c\xf3 \u0111\xe1nh gi\xe1":0<=o&&2.5>o?"T\u1ec7":2.5<=o&&4>o?"Trung b\xecnh":4<=o&&5>=o?"Tuy\u1ec7t v\u1eddi":""}getRateColor(o){return 0<=o&&2.5>o?"#d31818":2.5<=o&&4>o?"#F79321":4<=o&&5>=o?"#9fc43a":""}getTourImage(){this.http.get("/api/GetFile",{params:{resourceId:this.id,resourceType:1}}).subscribe(p=>{this.tourImage=p.data,this.tourImage.length>0&&this.pushImageToList(this.tourImage[0]),console.log(p)})}pushImageToList(o){this.firstImageUrl=d.N.backend.blobURL+"/1-container/1_"+o.id+o.fileType}getRatingForTour(){this.http.get("/api/GetTourRating/tourishplan",{params:{tourishPlanId:this.id}}).subscribe(p=>{p&&(console.log("abc",p),this.score=p.averagePoint,this.judgeNumber=p.count)})}navigateToDetail(){"User"==this.tokenStorageService.getUserRole()?this.router.navigate(["user/tour/"+this.id+"/detail"]):this.router.navigate(["guest/tour/"+this.id+"/detail"])}getTourName(o){return o.length<=100?o:o.substring(0,100)+"..."}}return h.\u0275fac=function(o){return new(o||h)(c.Y36(a.F0),c.Y36(F.i),c.Y36(A.eN))},h.\u0275cmp=c.Xpm({type:h,selectors:[["app-tourish-search-card"]],inputs:{score:"score",id:"id",judgeNumber:"judgeNumber",tourName:"tourName",tourPrice:"tourPrice",customerNumber:"customerNumber"},decls:19,vars:8,consts:[[1,"example-card",3,"click"],[2,"margin-left","5px","display","flex","flex-direction","row","align-items","center","width","100%"],[1,"image-container"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],[1,"tour-name"],[2,"display","flex","flex-direction","row","align-items","center","margin-bottom","10px"],["style","\n              width: 30px;\n              height: 20px;\n              text-align: center;\n              color: white;\n              margin-right: 7px;\n              padding-top: 2px;\n            ",3,"ngStyle",4,"ngIf"],[1,"tour-judge",2,"margin-right","7px","font-style","italic","font-weight","bold"],["class","tour-judge","style","margin-right: 7px",4,"ngIf"],["class","tour-judge",4,"ngIf"],[2,"display","flex","flex-direction","row","align-items","center"],[1,"tour-price"],[1,"tour-history"],[2,"width","30px","height","20px","text-align","center","color","white","margin-right","7px","padding-top","2px",3,"ngStyle"],[1,"tour-judge",2,"margin-right","7px"],[1,"tour-judge"]],template:function(o,p){1&o&&(c.TgZ(0,"mat-card",0),c.NdJ("click",function(){return p.navigateToDetail()}),c.TgZ(1,"mat-card-content")(2,"div",1)(3,"div",2),c._UZ(4,"img",3),c.qZA(),c.TgZ(5,"div")(6,"p",4),c._uU(7),c.qZA(),c.TgZ(8,"div",5),c.YNc(9,q,2,4,"mat-card",6),c.TgZ(10,"p",7),c._uU(11),c.qZA(),c.YNc(12,G,2,0,"p",8),c.YNc(13,Y,2,1,"p",9),c.qZA(),c.TgZ(14,"div",10)(15,"p",11),c._uU(16),c.qZA(),c.TgZ(17,"p",12),c._uU(18),c.qZA()()()()()()),2&o&&(c.xp6(4),c.s9C("src",p.firstImageUrl,c.LSH),c.xp6(3),c.Oqu(p.getTourName(p.tourName)),c.xp6(2),c.Q6J("ngIf",p.judgeNumber>0),c.xp6(2),c.hij(" ",p.getRateString(p.score)," "),c.xp6(1),c.Q6J("ngIf",p.judgeNumber>0),c.xp6(1),c.Q6J("ngIf",p.judgeNumber>0),c.xp6(3),c.hij("",p.tourPrice,"\u0111"),c.xp6(2),c.hij("",p.customerNumber," kh\xe1ch \u0111\xe3 \u0111\u1eb7t"))},dependencies:[b.a8,b.dn,b.G2,P.O5,P.PC],styles:[".example-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;white-space:nowrap;max-height:150px;width:100%}.example-card[_ngcontent-%COMP%]:hover{cursor:pointer}.tour-name[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:20px;word-wrap:break-word;text-wrap:wrap}.tour-judge[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0!important}.tour-history[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#d31818;background-color:#fceaea;padding:5px}.tour-price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f79321;right:0!important;margin-right:10px}img[_ngcontent-%COMP%]{max-height:120px}.image-container[_ngcontent-%COMP%]{width:240px!important;margin-right:20px}"]}),h})();const W=["picker"],_=["packContainer"];function k(h,V){if(1&h&&c._UZ(0,"app-tourish-search-card",10),2&h){const o=V.$implicit,p=c.oxw();let L;c.Q6J("id",null!==(L=o.id)&&void 0!==L?L:"")("tourName",o.tourName)("tourPrice",p.getTotalPrice(o))}}function g(h,V){1&h&&(c.TgZ(0,"div",11),c._UZ(1,"mat-spinner",12),c.TgZ(2,"h3"),c._uU(3,"\u0110ang t\u1ea3i"),c.qZA()()),2&h&&(c.xp6(1),c.Q6J("diameter",10))}function C(h,V){if(1&h){const o=c.EpF();c.TgZ(0,"li",7)(1,"a",13),c.NdJ("click",function(){const j=c.CHM(o).$implicit,n2=c.oxw();return c.KtG(n2.changePage(j-1))}),c._uU(2),c.qZA()()}if(2&h){const o=V.$implicit,p=c.oxw();c.xp6(1),c.Q6J("ngClass",o===p.activePage?"active-page":""),c.xp6(1),c.Oqu(o)}}let S=(()=>{class h{constructor(o,p,L,j){this.fb=o,this.renderer=p,this.http=L,this._route=j,this.startingDate="",this.startingPoint="",this.endPoint="",this.priceFrom=0,this.priceTo=2e6,this.categoryString="",this.activePage=1,this.isLoading=!1,this.active=1,this.pageIndex=0,this.pageSize=2,this.totalPage=1,this.pageArray=[1],this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.tourishPLanList=[],this.length=0,this.color="primary",this.subscriptions=[]}ngOnChanges(o){this.pageIndex=0,this.getTourPack()}ngOnInit(){this.pageIndex=0,this.getTourPack()}getTourPack(){this.http.get("/api/GetTourishPlan",{params:{page:this.pageIndex+1,pageSize:this.pageSize,categoryString:this.categoryString,priceFrom:this.priceFrom,priceTo:this.priceTo,startingDate:this.startingDate,startingPoint:this.startingPoint,endPoint:this.endPoint}}).subscribe(p=>{if(p){this.tourishPLanList=p.data,this.length=p.count,this.isLoading=!1,this.totalPage=Math.ceil(this.length/this.pageSize),this.pageArray=[];for(let L=1;L<=this.totalPage;L++)this.pageArray.push(L)}})}getTotalPrice(o){let p=0;return o.stayingSchedules?.forEach(L=>{p+=L.singlePrice??0}),o.eatSchedules?.forEach(L=>{p+=L.singlePrice??0}),o.movingSchedules?.forEach(L=>{p+=L.singlePrice??0}),p}capitalizeFirstLetter(o){return o.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")}changePage(o){this.pageIndex=o,this.activePage=o+1,this.tourishPLanList=[],this.isLoading=!0,this.getTourPack()}}return h.\u0275fac=function(o){return new(o||h)(c.Y36(r.qu),c.Y36(c.Qsj),c.Y36(A.eN),c.Y36(a.gz))},h.\u0275cmp=c.Xpm({type:h,selectors:[["app-tourish-search-pack"]],viewQuery:function(o,p){if(1&o&&(c.Gf(W,5),c.Gf(_,5)),2&o){let L;c.iGM(L=c.CRH())&&(p.eatingPicker=L.first),c.iGM(L=c.CRH())&&(p.packContainer=L.first)}},inputs:{startingDate:"startingDate",startingPoint:"startingPoint",endPoint:"endPoint",priceFrom:"priceFrom",priceTo:"priceTo",categoryString:"categoryString"},features:[c.TTD],decls:15,vars:7,consts:[["id","pack-container",1,"pack-container"],["packContainer",""],[1,"tourish-pack"],["style","width: 100%",3,"id","tourName","tourPrice",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[1,"pagination"],["aria-label","Page navigation example"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",4,"ngFor","ngForOf"],[2,"width","100%",3,"id","tourName","tourPrice"],[1,"loading"],[3,"diameter"],[1,"page-link",3,"ngClass","click"]],template:function(o,p){1&o&&(c.TgZ(0,"div",0,1)(2,"div",2),c.YNc(3,k,1,3,"app-tourish-search-card",3),c.YNc(4,g,4,1,"div",4),c.qZA(),c.TgZ(5,"div",5)(6,"nav",6)(7,"ul",5)(8,"li",7)(9,"a",8),c.NdJ("click",function(){return p.changePage(p.pageIndex-1)}),c._uU(10,"Tr\u01b0\u1edbc"),c.qZA()(),c.YNc(11,C,3,2,"li",9),c.TgZ(12,"li",7)(13,"a",8),c.NdJ("click",function(){return p.changePage(p.pageIndex+1)}),c._uU(14,"Sau"),c.qZA()()()()()()),2&o&&(c.xp6(3),c.Q6J("ngForOf",p.tourishPLanList),c.xp6(1),c.Q6J("ngIf",p.isLoading),c.xp6(5),c.ekj("disabled",p.pageIndex-1<0),c.xp6(2),c.Q6J("ngForOf",p.pageArray),c.xp6(2),c.ekj("disabled",p.pageIndex+2>p.totalPage))},dependencies:[P.mk,P.sg,P.O5,u.Ou,Q],styles:[".pack-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;background-color:inherit;padding:30px 0 20px;width:100%}.tourish-pack[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:wrap;background-color:inherit;width:100%}.tourish-pack-description[_ngcontent-%COMP%]{background-color:inherit}.tourish-pack[_ngcontent-%COMP%]   app-tourish-card[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:10px;margin-right:10px}.tourish-pack-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.tourish-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.pagination[_ngcontent-%COMP%]{align-self:flex-end}.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;pointer-events:none}.active-page[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.page-link[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;padding:15px 0}.loading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0;font-weight:700;font-size:16px}"]}),h})();const J=["picker"];function M(h,V){if(1&h&&(c.TgZ(0,"mat-list-option",23),c._uU(1),c.qZA()),2&h){const o=V.$implicit;c.Q6J("value",o),c.xp6(1),c.AsE("T\u1eeb ",o.startPrice," - ",0!=o.endPrice?o.endPrice:"Tr\u1edf l\xean"," \u0111")}}function v(h,V){if(1&h&&(c.TgZ(0,"mat-list-option",23),c._uU(1),c.qZA()),2&h){const o=V.$implicit;c.Q6J("value",o.name),c.xp6(1),c.Oqu(o.name)}}function f(h,V){if(1&h&&c._UZ(0,"app-validation",24),2&h){const o=c.oxw();c.Q6J("formGroup",o.setTourForm)("formGroupControlName","endPoint")}}function s(h,V){if(1&h&&c._UZ(0,"app-validation",24),2&h){const o=c.oxw();c.Q6J("formGroup",o.setTourForm)("formGroupControlName","startingPoint")}}function i(h,V){if(1&h&&c._UZ(0,"app-validation",24),2&h){const o=c.oxw();c.Q6J("formGroup",o.setTourForm)("formGroupControlName","startingDate")}}let t=(()=>{class h{constructor(o,p,L){this.fb=o,this.http=p,this._route=L,this.active=1,this.categoryList=[],this.length=5,this.isSubmit=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!1,this.color="primary",this.categoryArray=[],this.priceRange=[{startPrice:0,endPrice:2e7},{startPrice:2e7,endPrice:5e7},{startPrice:5e7,endPrice:1e8},{startPrice:1e8,endPrice:0}],this.subscriptions=[],this.startingDate="",this.startingPoint="",this.endPoint="",this.priceTo=2e7,this.priceFrom=0,this.categoryString="",this.search=""}ngOnInit(){this.setTourForm=this.fb.group({startingDate:[""],startingPoint:[""],endPoint:[""]}),this.subscriptions.push(this._route.queryParamMap.subscribe(o=>{if(o.get("search")&&(this.search=o.get("search")??""),o.get("category")&&(this.categoryArray=[o.get("category")??""],this.categoryString=JSON.stringify(this.categoryArray)),o.get("startingPoint")){const p=o.get("startingPoint")??"";this.startingPoint=p,this.setTourForm.controls.startingPoint.setValue(p)}if(o.get("endPoint")){const p=o.get("endPoint")??"";this.endPoint=p,this.setTourForm.controls.endPoint.setValue(p)}if(o.get("priceFrom")){const p=o.get("priceFrom")??"";this.priceFrom=parseInt(p),this.setTourForm.controls.priceFrom.setValue(p)}if(o.get("priceTo")){const p=o.get("priceTo")??"";this.priceTo=parseInt(p),this.setTourForm.controls.priceTo.setValue(p)}if(o.get("startingDate")){const p=o.get("startingDate")??"";this.startingDate=p,this.setTourForm.controls.startingDate.setValue(p)}})),this.getCategory()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}getCategory(){this.http.get("/api/GetTourCategory",{params:{page:1,pageSize:6}}).subscribe(p=>{this.categoryList=p.data,console.log(p),this.length=p.count})}priceRangeChange(o){o&&(console.log(o.options[0].value),this.priceFrom=o.options[0].value.startPrice,this.priceTo=o.options[0].value.endPrice)}categoryChange(o){o&&(console.log(o.source._value),this.categoryString=0==o.source._value.length?"":JSON.stringify(o.source._value))}onSearch(){this.startingDate=this.setTourForm.value.startingDate,this.startingPoint=this.setTourForm.value.startingPoint,this.endPoint=this.setTourForm.value.endPoint}}return h.\u0275fac=function(o){return new(o||h)(c.Y36(r.qu),c.Y36(A.eN),c.Y36(a.gz))},h.\u0275cmp=c.Xpm({type:h,selectors:[["app-tourish-search"]],viewQuery:function(o,p){if(1&o&&c.Gf(J,5),2&o){let L;c.iGM(L=c.CRH())&&(p.eatingPicker=L.first)}},inputs:{data:"data"},decls:45,vars:21,consts:[[1,"search-container"],[1,"side-container"],[1,"price-tag"],[1,"example-card"],[3,"multiple","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","selectionChange"],[1,"product-container"],[1,"tour-search"],[1,"row",2,"height","fit-content !important",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-3","col-lg-4","create-form"],["appearance","outline",1,"full-width-input"],["matInput","","fullwidth","","placeholder","Vd: \u0110\xe0 N\u1eb5ng","formControlName","endPoint"],[3,"formGroup","formGroupControlName",4,"ngIf"],["matInput","","fullwidth","","placeholder","Vd: H\xe0 N\u1ed9i","formControlName","startingPoint"],[1,"col-xs-12","col-sm-12","col-md-3","col-lg-3","create-form"],["matInput","","placeholder","Choose a date","formControlName","startingDate",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","touchUi","color","enableMeridian"],["picker",""],[1,"col-xs-12","col-sm-12","col-md-1","col-lg-1","create-form"],["mat-raised-button","","color","primary",2,"height","56px","font-size","14px",3,"click"],[2,"width","100%",3,"startingDate","startingPoint","endPoint","priceFrom","priceTo","categoryString"],[3,"value"],[3,"formGroup","formGroupControlName"]],template:function(o,p){if(1&o&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title"),c._uU(6,"L\u1ecdc theo"),c.qZA()(),c.TgZ(7,"mat-card-content")(8,"h4"),c._uU(9,"Gi\xe1"),c.qZA(),c.TgZ(10,"mat-selection-list",4),c.NdJ("selectionChange",function(j){return p.priceRangeChange(j)}),c.YNc(11,M,2,3,"mat-list-option",5),c.qZA(),c._UZ(12,"mat-divider"),c.TgZ(13,"h4"),c._uU(14,"Th\u1ec3 lo\u1ea1i"),c.qZA(),c.TgZ(15,"mat-selection-list",6),c.NdJ("selectionChange",function(j){return p.categoryChange(j)}),c.YNc(16,v,2,2,"mat-list-option",5),c.qZA()()()()(),c.TgZ(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"mat-form-field",11)(22,"mat-label"),c._uU(23,"B\u1ea1n mu\u1ed1n \u0111i \u0111\xe2u"),c.qZA(),c._UZ(24,"input",12),c.qZA(),c.YNc(25,f,1,2,"app-validation",13),c.qZA(),c.TgZ(26,"div",10)(27,"mat-form-field",11)(28,"mat-label"),c._uU(29,"N\u01a1i b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(30,"input",14),c.qZA(),c.YNc(31,s,1,2,"app-validation",13),c.qZA(),c.TgZ(32,"div",15)(33,"mat-form-field",11)(34,"mat-label"),c._uU(35,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),c.qZA(),c._UZ(36,"input",16)(37,"mat-datepicker-toggle",17)(38,"ngx-mat-datetime-picker",18,19),c.qZA(),c.YNc(40,i,1,2,"app-validation",13),c.qZA(),c.TgZ(41,"div",20)(42,"button",21),c.NdJ("click",function(){return p.onSearch()}),c._uU(43," T\xecm "),c.qZA()()()(),c._UZ(44,"app-tourish-search-pack",22),c.qZA()()),2&o){const L=c.MAs(39);c.xp6(10),c.Q6J("multiple",!1),c.xp6(1),c.Q6J("ngForOf",p.priceRange),c.xp6(4),c.Q6J("ngModel",p.categoryArray),c.xp6(1),c.Q6J("ngForOf",p.categoryList),c.xp6(3),c.Q6J("formGroup",p.setTourForm),c.xp6(6),c.Q6J("ngIf",p.isSubmit),c.xp6(6),c.Q6J("ngIf",p.isSubmit),c.xp6(5),c.Q6J("ngxMatDatetimePicker",L),c.xp6(1),c.Q6J("for",L),c.xp6(1),c.Q6J("showSpinners",!0)("showSeconds",!0)("touchUi",p.touchUi)("color",p.color)("enableMeridian",p.enableMeridian),c.xp6(2),c.Q6J("ngIf",p.isSubmit),c.xp6(4),c.Q6J("startingDate",p.startingDate)("startingPoint",p.startingPoint)("endPoint",p.endPoint)("priceFrom",p.priceFrom)("priceTo",p.priceTo)("categoryString",p.categoryString)}},dependencies:[R.Ub,R.vS,w.d,D.KE,D.hX,D.R9,B.Nt,r.Fj,r.JJ,r.JL,r.sg,r.u,U.lW,b.a8,b.dn,b.dk,b.n5,P.sg,P.O5,r.On,Z.rZ,Z.T$,x.nW,E.c,S],styles:[".search-container[_ngcontent-%COMP%]{min-height:400px;height:-moz-fit-content;height:fit-content;width:100%;background-color:#fafafa;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;padding:50px 10%}.page-info-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:100%;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;padding-top:15px;padding-bottom:15px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-right:10px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .page-info-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:0!important}.page-info-container[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0!important}.tour-search[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:35px 30px 10px;border-radius:10px;box-shadow:0 4px 6px #0000001a;margin-bottom:10px}.tour-search[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]   ng-tns-c23-2[_ngcontent-%COMP%]{background-color:#fff}.container[_ngcontent-%COMP%]{width:100%}.below-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:15px 10px;background-color:#e3e7ed;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.below-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px;margin-right:20px}.below-title[_ngcontent-%COMP%]   span#tour-id[_ngcontent-%COMP%]{font-weight:300!important;font-size:20px;margin-left:auto}.tour-description[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;padding:15px 10px;font-size:16px}.tour-description[_ngcontent-%COMP%]   h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px!important}app-tourish-pack[_ngcontent-%COMP%]:nth-child(odd){background-color:#ecf0f5!important}h4.tour-name[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.side-container[_ngcontent-%COMP%]{width:20%!important;margin-right:10px}.product-container[_ngcontent-%COMP%]{width:80%!important;margin-left:10px}.price-tag[_ngcontent-%COMP%]{background-color:#fff}mat-card-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:0;margin-top:20px}"]}),h})()},3790:(K,I,m)=>{m.d(I,{P:()=>M});var c=m(4650),r=m(4006),A=m(2556),a=m(694),R=m(9549),w=m(4144),D=m(7392),B=m(4859),U=m(3546),b=m(2553),P=m(6895),Z=m(1572),x=m(5232);const E=["myChat"];function u(v,f){if(1&v&&(c.TgZ(0,"div",13)(1,"mat-card")(2,"mat-card-content"),c._uU(3),c.qZA()(),c.TgZ(4,"mat-label")(5,"span",14),c._uU(6),c.qZA(),c._uU(7," - "),c.TgZ(8,"span"),c._uU(9),c.qZA()()()),2&v){const s=f.sendTime,i=f.content,t=f.state,h=c.oxw(2);c.xp6(3),c.Oqu(i),c.xp6(3),c.hij("",h.getState(t)," "),c.xp6(3),c.Oqu(h.getTime(s))}}function d(v,f){if(1&v&&(c.TgZ(0,"div",15)(1,"mat-card")(2,"mat-card-content"),c._uU(3),c.qZA()(),c.TgZ(4,"mat-label")(5,"span",14),c._uU(6),c.qZA(),c._uU(7," - "),c.TgZ(8,"span"),c._uU(9),c.qZA()()()),2&v){const s=f.sendTime,i=f.content,t=f.state,h=c.oxw(2);c.xp6(3),c.Oqu(i),c.xp6(3),c.hij("",h.getState(t)," "),c.xp6(3),c.Oqu(h.getTime(s))}}const F=function(v,f,s){return{content:v,sendTime:f,state:s,sender:"Heller"}};function y(v,f){if(1&v&&c.GkF(0,18),2&v){const s=c.oxw().$implicit;c.oxw();const i=c.MAs(2);c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.kEZ(2,F,s.content,s.createDate,s.state))}}function q(v,f){if(1&v&&c.GkF(0,18),2&v){const s=c.oxw().$implicit;c.oxw();const i=c.MAs(4);c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.kEZ(2,F,s.content,s.createDate,s.state))}}function G(v,f){if(1&v&&(c.ynx(0,16),c.YNc(1,y,1,6,"ng-container",17),c.YNc(2,q,1,6,"ng-container",17),c.BQk()),2&v){const s=f.$implicit;c.xp6(1),c.Q6J("ngIf",1==s.side),c.xp6(1),c.Q6J("ngIf",2==s.side)}}function Y(v,f){if(1&v&&(c.TgZ(0,"div",9),c.YNc(1,u,10,3,"ng-template",null,10,c.W1O),c.YNc(3,d,10,3,"ng-template",null,11,c.W1O),c.YNc(5,G,3,2,"ng-container",12),c.qZA()),2&v){const s=c.oxw();c.xp6(5),c.Q6J("ngForOf",s.messageList)}}function Q(v,f){if(1&v){const s=c.EpF();c.TgZ(0,"emoji-mart",27),c.NdJ("emojiSelect",function(t){c.CHM(s);const h=c.oxw(2);return c.KtG(h.addEmoji(t))}),c.qZA()}}function W(v,f){1&v&&c._UZ(0,"mat-spinner",28),2&v&&c.Q6J("diameter",20)}function _(v,f){if(1&v){const s=c.EpF();c.TgZ(0,"button",29),c.NdJ("click",function(){c.CHM(s);const t=c.oxw(2);return c.KtG(t.sendMessage())})("keyup.enter",function(){c.CHM(s);const t=c.oxw(2);return c.KtG(t.sendMessage())}),c.TgZ(1,"mat-icon"),c._uU(2,"send"),c.qZA()()}if(2&v){const s=c.oxw(2);c.Q6J("disabled",!s.isOpen||s.isSending)}}function k(v,f){if(1&v){const s=c.EpF();c.TgZ(0,"div",19)(1,"div",20),c.YNc(2,Q,1,0,"emoji-mart",21),c.TgZ(3,"button",22),c.NdJ("click",function(){c.CHM(s);const t=c.oxw();return c.KtG(t.toggleEmojiPicker())}),c._uU(4,"\u{1f600}"),c.qZA()(),c.TgZ(5,"mat-form-field",23),c._UZ(6,"input",24),c.qZA(),c.YNc(7,W,1,1,"mat-spinner",25),c.YNc(8,_,3,1,"button",26),c.qZA()}if(2&v){const s=c.oxw();c.Q6J("formGroup",s.messFb),c.xp6(2),c.Q6J("ngIf",s.showEmojiPicker),c.xp6(5),c.Q6J("ngIf",!s.isOpen||s.isSending),c.xp6(1),c.Q6J("ngIf",s.isOpen&&!s.isSending)}}function g(v,f){if(1&v&&c._UZ(0,"app-validation",39),2&v){const s=c.oxw(2);c.Q6J("formGroup",s.messRegister)("formGroupControlName","guestName")}}function C(v,f){if(1&v&&c._UZ(0,"app-validation",39),2&v){const s=c.oxw(2);c.Q6J("formGroup",s.messRegister)("formGroupControlName","guestEmail")}}function S(v,f){if(1&v&&c._UZ(0,"app-validation",39),2&v){const s=c.oxw(2);c.Q6J("formGroup",s.messRegister)("formGroupControlName","guestPhoneNumber")}}function J(v,f){if(1&v){const s=c.EpF();c.TgZ(0,"div",30)(1,"div",31)(2,"mat-form-field",23)(3,"mat-label"),c._uU(4,"T\xean"),c.qZA(),c._UZ(5,"input",32),c.qZA(),c.TgZ(6,"div",33),c.YNc(7,g,1,2,"app-validation",34),c.qZA()(),c.TgZ(8,"div",31)(9,"mat-form-field",23)(10,"mat-label"),c._uU(11,"Email"),c.qZA(),c._UZ(12,"input",35),c.qZA(),c.TgZ(13,"div",33),c.YNc(14,C,1,2,"app-validation",34),c.qZA()(),c.TgZ(15,"div",31)(16,"mat-form-field",23)(17,"mat-label"),c._uU(18,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),c.qZA(),c._UZ(19,"input",36),c.qZA(),c.TgZ(20,"div",33),c.YNc(21,S,1,2,"app-validation",34),c.qZA()(),c.TgZ(22,"div",37)(23,"button",38),c.NdJ("click",function(){c.CHM(s);const t=c.oxw();return c.KtG(t.openSignalRHub())}),c._uU(24),c.qZA()()()}if(2&v){const s=c.oxw();let i,t,h;c.Q6J("formGroup",s.messRegister),c.xp6(7),c.Q6J("ngIf",(null==(i=s.messRegister.get("guestName"))?null:i.errors)&&((null==(i=s.messRegister.get("guestName"))?null:i.touched)||s.isSubmitted)),c.xp6(5),c.Q6J("readonly",s.checkUserRole()),c.xp6(2),c.Q6J("ngIf",(null==(t=s.messRegister.get("guestEmail"))?null:t.errors)&&((null==(t=s.messRegister.get("guestEmail"))?null:t.touched)||s.isSubmitted)),c.xp6(7),c.Q6J("ngIf",(null==(h=s.messRegister.get("guestPhoneNumber"))?null:h.errors)&&((null==(h=s.messRegister.get("guestPhoneNumber"))?null:h.touched)||s.isSubmitted)),c.xp6(2),c.Q6J("disabled",s.isWaitingForSet),c.xp6(1),c.hij(" ",s.isWaitingForSet?"Vui l\xf2ng ch\u1edd":"Nh\u1eadn t\u01b0 v\u1ea5n"," ")}}let M=(()=>{class v{constructor(s,i,t,h){this.fb=s,this.renderer=i,this.signalRService=t,this.tokenStorageService=h,this.isChatSet=!1,this.isWaitingForSet=!1,this.adminId="",this.subscriptions=[],this.messageList=[],this.isOpen=!1,this.isSending=!1,this.checkChatOpen=new c.vpe,this.isSubmitted=!1,this.showEmojiPicker=!1,this.message="",this.isNavOpen=!1}ngOnInit(){this.messFb=this.fb.group({message:["",r.kI.compose([r.kI.required])]}),this.messRegister=this.fb.group({guestName:["",r.kI.compose([r.kI.required])],guestEmail:["",r.kI.compose([r.kI.required])],guestPhoneNumber:["",r.kI.compose([r.kI.required])]}),"User"===this.tokenStorageService.getUserRole()&&(this.messRegister.controls.guestName.setValue(this.tokenStorageService.getUser().unique_name),this.messRegister.controls.guestEmail.setValue(this.tokenStorageService.getUser().email)),this.subscriptions.push(this.signalRService.ConnFeedObservable.subscribe(s=>{console.log(s),void 0!==s.adminId&&(this.isWaitingForSet=!1,this.adminId=s.adminId,this.conHis=s.conHis,this.isChatSet=!0,this.isOpen=!0,this.signalRService.listenToClientFeedsThree("SendMessageToUser"))})),this.subscriptions.push(this.signalRService.ClientFeedObservable.subscribe(s=>{if(s&&null!=s.data3){var i=s.data3;const t={id:s.data3.id,state:s.data3.state,content:s.data3.content,side:1,createDate:s.data3.createDate};if(console.log(t),1===parseInt(i.state)||3===parseInt(i.state)){let h=this.messageList.findIndex(V=>0===V.state);h>-1&&(this.messageList[h]=t,this.isSending=!1)}else if(2===parseInt(i.state)){let h=this.messageList.findIndex(V=>V.id===s.data3.id);t.side=2,h>-1?this.messageList[h]=t:this.messageList=[...this.messageList,t]}}}))}checkUserRole(){return"User"===this.tokenStorageService.getUserRole()}getTime(s){if(""===s)return"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc";const i=new Date(s),t=new Date,h=6e4*t.getTimezoneOffset();t.setTime(t.getTime()+h),new Date(t.toISOString());let o=(t.valueOf()-i.valueOf())/1e3;return o<60?"G\u1ea7n 1 ph\xfat tr\u01b0\u1edbc":o>=60&&o<3600?(o/60).toFixed(0)+" ph\xfat tr\u01b0\u1edbc":o>=3600&&o<86400?(o/3600).toFixed(0)+" ti\u1ebfng tr\u01b0\u1edbc":o>=86400&&o<2592e3?(o/86400).toFixed(0)+" ng\xe0y tr\u01b0\u1edbc":(o/2592e3).toFixed(0)+" th\xe1ng tr\u01b0\u1edbc"}getState(s){return 0===s?"\u0110ang g\u1eedi":1===s||2===s?"\u0110\xe3 g\u1eedi":3===s?"Th\u1ea5t b\u1ea1i":""}toggleEmojiPicker(){console.log(this.showEmojiPicker),this.showEmojiPicker=!this.showEmojiPicker}addEmoji(s){this.messFb.controls.message.setValue(this.messFb.value.message+s.emoji.native)}openChat(){this.myChat.nativeElement.style.height="400px",this.isNavOpen=!0,this.checkChatOpen.emit(!0)}closeChat(){this.myChat.nativeElement.style.height="0px",this.isNavOpen=!1,this.checkChatOpen.emit(!1)}chatBoxInteract(){this.isNavOpen?this.closeChat():this.openChat()}sendMessage(){const s={state:0,side:1,content:this.messFb.value.message,createDate:(new Date).toISOString()};this.isSending=!0,this.signalRService.invokeTwoInfoFeed("SendMessageToAdmin",this.adminId,this.messRegister.value.guestEmail,s),this.messageList.push(s)}openSignalRHub(){const s={guestEmail:this.messRegister.value.guestEmail,guestName:this.messRegister.value.guestName,guestPhoneNumber:this.messRegister.value.guestPhoneNumber};this.messRegister.invalid||(this.isWaitingForSet=!0,this.signalRService.startConnectionWithParam("/api/guest/message",s).then(()=>{this.signalRService.listenToConnFeeds("NotifyNewCon")}))}}return v.\u0275fac=function(s){return new(s||v)(c.Y36(r.qu),c.Y36(c.Qsj),c.Y36(A.M),c.Y36(a.i))},v.\u0275cmp=c.Xpm({type:v,selectors:[["app-chat"]],viewQuery:function(s,i){if(1&s&&c.Gf(E,5),2&s){let t;c.iGM(t=c.CRH())&&(i.myChat=t.first)}},outputs:{checkChatOpen:"checkChatOpen"},decls:11,vars:3,consts:[[1,"chat-container"],[1,"chat-title"],["mat-button","",2,"color","white",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"chat-box"],["myChat",""],["class","chat-content",4,"ngIf"],["class","chat-input",3,"formGroup",4,"ngIf"],["class","chat-form",3,"formGroup",4,"ngIf"],[1,"chat-content"],["chat_send_template",""],["chat_receive_template",""],["style","width: 100%",4,"ngFor","ngForOf"],[1,"chat-send"],[1,"mess-status"],[1,"chat-receive"],[2,"width","100%"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"chat-input",3,"formGroup"],[1,"emoji"],["class","emoji-mart","title","Pick your emoji\u2026",3,"emojiSelect",4,"ngIf"],["mat-mini-fab","",3,"click"],["appearance","outline",1,"chat-input-mat"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","message",2,"font-size","12px","height","12px"],[3,"diameter",4,"ngIf"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",3,"disabled","click","keyup.enter",4,"ngIf"],["title","Pick your emoji\u2026",1,"emoji-mart",3,"emojiSelect"],[3,"diameter"],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",3,"disabled","click","keyup.enter"],[1,"chat-form",3,"formGroup"],[1,"chat-form-field"],["matInput","","fullwidth","","placeholder","Vd: B\u1ed3 C\xf4ng Anh","formControlName","guestName"],[2,"margin-top","-30px"],[3,"formGroup","formGroupControlName",4,"ngIf"],["matInput","","fullwidth","","placeholder","Vd: boconganh@gmail.com","formControlName","guestEmail",3,"readonly"],["matInput","","fullwidth","","placeholder","Vd: 123123123","formControlName","guestPhoneNumber"],[2,"width","80%"],["mat-flat-button","","color","primary",2,"width","100%",3,"disabled","click"],[3,"formGroup","formGroupControlName"]],template:function(s,i){1&s&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h3"),c._uU(3,"Tr\xf2 chuy\u1ec7n"),c.qZA(),c.TgZ(4,"button",2),c.NdJ("click",function(){return i.chatBoxInteract()}),c._UZ(5,"i",3),c.qZA()(),c.TgZ(6,"div",4,5),c.YNc(8,Y,6,1,"div",6),c.YNc(9,k,9,4,"div",7),c.YNc(10,J,25,7,"div",8),c.qZA()()),2&s&&(c.xp6(8),c.Q6J("ngIf",i.isChatSet),c.xp6(1),c.Q6J("ngIf",i.isChatSet),c.xp6(1),c.Q6J("ngIf",!i.isChatSet))},dependencies:[R.KE,R.hX,w.Nt,r.Fj,r.JJ,r.JL,r.sg,r.u,D.Hw,B.lW,B.RK,B.nh,U.a8,U.dn,b.qP,P.sg,P.O5,P.tP,Z.Ou,x.c],styles:[".chat-container[_ngcontent-%COMP%]{width:350px;height:auto;background-color:#fff;display:flex;flex-direction:column;box-shadow:#0000003d 0 3px 8px;padding:0;border-top-left-radius:10px}.chat-title[_ngcontent-%COMP%]{background-color:#2a3650;display:flex;flex-direction:row;align-items:center!important;justify-content:space-between;padding:10px}.chat-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-bottom:0!important;margin-left:10px}.chat-box[_ngcontent-%COMP%]{height:0px;white-space:nowrap;overflow-y:auto}.chat-content[_ngcontent-%COMP%]{padding:10px 5px;height:338px;display:flex;flex-direction:column;align-items:start;overflow-y:auto;border-bottom:1px solid #f3f3f3}.chat-input[_ngcontent-%COMP%]{padding-top:7px;padding-bottom:7px;display:flex;flex-direction:row;align-items:center;justify-content:center;justify-self:end!important}.chat-send[_ngcontent-%COMP%]{margin:0 10px 5px 0;max-width:150px;align-self:flex-end!important;align-items:flex-end;display:flex;flex-direction:column}.chat-send[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:#3084e4;color:#fffaf0}mat-card-content[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word}.chat-send[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-size:11px}.chat-receive[_ngcontent-%COMP%]{margin:0 0 5px 10px;max-width:150px;align-self:flex-start!important;align-items:flex-start;display:flex;flex-direction:column}.chat-receive[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#000}.chat-receive[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-mdc-card-content[_ngcontent-%COMP%]{padding-top:8px!important;padding-bottom:8px!important}.chat-send[_ngcontent-%COMP%]   span.mess-status[_ngcontent-%COMP%], .chat-receive[_ngcontent-%COMP%]   span.mess-status[_ngcontent-%COMP%]{font-weight:700!important}.chat-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.chat-form[_ngcontent-%COMP%]   .chat-form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:60px;height:-moz-fit-content;height:fit-content;position:relative;width:100%;margin-right:0;padding:0 20px}.chat-form[_ngcontent-%COMP%]   .chat-form-field[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.chat-form[_ngcontent-%COMP%]   .chat-form-field[_ngcontent-%COMP%]:first-child{margin-top:20px}.chat-form[_ngcontent-%COMP%]   .chat-form-field[_ngcontent-%COMP%]   app-validation[_ngcontent-%COMP%]{position:absolute;bottom:-55px;right:20px}.chat-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-right:0!important}  .mat-form-field-outline-start{border-radius:50% 0 0 50%!important;min-width:10px!important}  .mat-form-field-outline-end{border-radius:0 50% 50% 0!important;min-width:10px!important}  .chat-input .mat-form-field{font-size:14px}  .chat-input .mat-mdc-text-field-wrapper{height:42px!important}  .chat-input .mat-mdc-form-field-flex{margin-top:-8px!important}  .mat-form-field{padding-top:5px!important;padding-bottom:5px!important}emoji-mart[_ngcontent-%COMP%]{position:absolute;bottom:60px;overflow:auto;width:330px;height:300px;z-index:1}.emoji[_ngcontent-%COMP%]{position:relative;margin-right:10px;width:max-content}  .mat-mdc-form-field-subscript-wrapper{display:none!important}"]}),v})()},4511:(K,I,m)=>{m.d(I,{j:()=>Z});var c=m(2340),r=m(4650),A=m(6582),a=m(694),R=m(529),w=m(3546),D=m(6895);const B=function(x){return{"background-color":x}};function U(x,E){if(1&x&&(r.TgZ(0,"mat-card",13),r._uU(1),r.qZA()),2&x){const u=r.oxw();r.Q6J("ngStyle",r.VKq(2,B,u.getRateColor(u.score))),r.xp6(1),r.Oqu(u.score)}}function b(x,E){1&x&&(r.TgZ(0,"p",14),r._uU(1,"|"),r.qZA())}function P(x,E){if(1&x&&(r.TgZ(0,"p",15),r._uU(1),r.qZA()),2&x){const u=r.oxw();r.xp6(1),r.hij("",u.judgeNumber," \u0111\xe1nh gi\xe1")}}let Z=(()=>{class x{constructor(u,d,F){this.router=u,this.tokenStorageService=d,this.http=F,this.score=4,this.id="",this.judgeNumber=0,this.tourName="",this.tourPrice=14e5,this.customerNumber=19,this.firstImageUrl="",this.tourImage=[]}ngOnInit(){this.getTourImage(),this.getRatingForTour()}getRateString(u){return this.judgeNumber<=0?"Ch\u01b0a c\xf3 \u0111\xe1nh gi\xe1":0<=u&&2.5>u?"T\u1ec7":2.5<=u&&4>u?"Trung b\xecnh":4<=u&&5>=u?"Tuy\u1ec7t v\u1eddi":""}getRateColor(u){return 0<=u&&2.5>u?"#d31818":2.5<=u&&4>u?"#F79321":4<=u&&5>=u?"#9fc43a":""}getTourImage(){this.http.get("/api/GetFile",{params:{resourceId:this.id,resourceType:1}}).subscribe(d=>{this.tourImage=d.data,this.tourImage.length>0&&this.pushImageToList(this.tourImage[0]),console.log(d)})}pushImageToList(u){this.firstImageUrl=c.N.backend.blobURL+"/1-container/1_"+u.id+u.fileType}getRatingForTour(){this.http.get("/api/GetTourRating/tourishplan",{params:{tourishPlanId:this.id}}).subscribe(d=>{d&&(console.log("abc",d),this.score=d.averagePoint,this.judgeNumber=d.count)})}navigateToDetail(){"User"==this.tokenStorageService.getUserRole()?this.router.navigate(["user/tour/"+this.id+"/detail"]):this.router.navigate(["guest/tour/"+this.id+"/detail"])}getTourName(u){return u.length<=100?u:u.substring(0,100)+"..."}}return x.\u0275fac=function(u){return new(u||x)(r.Y36(A.F0),r.Y36(a.i),r.Y36(R.eN))},x.\u0275cmp=r.Xpm({type:x,selectors:[["app-tourish-auto-search-card"]],inputs:{score:"score",id:"id",judgeNumber:"judgeNumber",tourName:"tourName",tourPrice:"tourPrice",customerNumber:"customerNumber"},decls:19,vars:8,consts:[[1,"example-card",3,"click"],[2,"display","flex","flex-direction","row","align-items","center","width","100%"],[1,"image-container"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],[1,"tour-name"],[2,"display","flex","flex-direction","row","align-items","center","margin-bottom","10px"],["style","\n              width: 30px;\n              height: 20px;\n              text-align: center;\n              color: white;\n              margin-right: 7px;\n              padding-top: 2px;\n            ",3,"ngStyle",4,"ngIf"],[1,"tour-judge",2,"margin-right","7px","font-style","italic","font-weight","bold"],["class","tour-judge","style","margin-right: 7px",4,"ngIf"],["class","tour-judge",4,"ngIf"],[2,"display","flex","flex-direction","row","align-items","center"],[1,"tour-price"],[1,"tour-history"],[2,"width","30px","height","20px","text-align","center","color","white","margin-right","7px","padding-top","2px",3,"ngStyle"],[1,"tour-judge",2,"margin-right","7px"],[1,"tour-judge"]],template:function(u,d){1&u&&(r.TgZ(0,"mat-card",0),r.NdJ("click",function(){return d.navigateToDetail()}),r.TgZ(1,"mat-card-content")(2,"div",1)(3,"div",2),r._UZ(4,"img",3),r.qZA(),r.TgZ(5,"div")(6,"p",4),r._uU(7),r.qZA(),r.TgZ(8,"div",5),r.YNc(9,U,2,4,"mat-card",6),r.TgZ(10,"p",7),r._uU(11),r.qZA(),r.YNc(12,b,2,0,"p",8),r.YNc(13,P,2,1,"p",9),r.qZA(),r.TgZ(14,"div",10)(15,"p",11),r._uU(16),r.qZA(),r.TgZ(17,"p",12),r._uU(18),r.qZA()()()()()()),2&u&&(r.xp6(4),r.s9C("src",d.firstImageUrl,r.LSH),r.xp6(3),r.Oqu(d.getTourName(d.tourName)),r.xp6(2),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(2),r.hij(" ",d.getRateString(d.score)," "),r.xp6(1),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(1),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(3),r.hij("",d.tourPrice,"\u0111"),r.xp6(2),r.hij("",d.customerNumber," kh\xe1ch \u0111\xe3 \u0111\u1eb7t"))},dependencies:[w.a8,w.dn,w.G2,D.O5,D.PC],styles:[".example-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;white-space:nowrap;max-height:150px;width:100%}.example-card[_ngcontent-%COMP%]:hover{cursor:pointer}.tour-name[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:20px;word-wrap:break-word;text-wrap:wrap}.tour-judge[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0!important}.tour-history[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#d31818;background-color:#fceaea;padding:5px}.tour-price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f79321;right:0!important;margin-right:10px}img[_ngcontent-%COMP%]{max-height:100px}.image-container[_ngcontent-%COMP%]{width:240px!important;margin-right:20px}"]}),x})()},5176:(K,I,m)=>{m.d(I,{Q:()=>Z});var c=m(2340),r=m(4650),A=m(6582),a=m(694),R=m(529),w=m(3546),D=m(6895);function B(x,E){if(1&x&&(r.TgZ(0,"p",12),r._uU(1),r.qZA()),2&x){const u=r.oxw();r.xp6(1),r.hij(" "," "+u.judgeNumber," \u0111\xe1nh gi\xe1 ")}}function U(x,E){1&x&&(r.TgZ(0,"p",13),r._uU(1," | "),r.qZA())}const b=function(x){return{"background-color":x}};function P(x,E){if(1&x&&(r.TgZ(0,"mat-card",14),r._uU(1),r.qZA()),2&x){const u=r.oxw();r.Q6J("ngStyle",r.VKq(2,b,u.getRateColor(u.score))),r.xp6(1),r.Oqu(u.score)}}let Z=(()=>{class x{constructor(u,d,F){this.router=u,this.tokenStorageService=d,this.http=F,this.score=4,this.id="",this.judgeNumber=0,this.tourName="",this.tourPrice=14e5,this.customerNumber=19,this.tourImage=[],this.firstImageUrl=""}ngOnInit(){this.getTourImage(),this.getRatingForTour()}getRateString(u){return this.judgeNumber<=0?"Ch\u01b0a c\xf3 \u0111\xe1nh gi\xe1":0<=u&&2.5>u?"T\u1ec7":2.5<=u&&4>u?"Trung b\xecnh":4<=u&&5>=u?"Tuy\u1ec7t v\u1eddi":""}getRatingForTour(){this.http.get("/api/GetTourRating/tourishplan",{params:{tourishPlanId:this.id}}).subscribe(d=>{d&&(console.log("abc",d),this.score=d.averagePoint,this.judgeNumber=d.count)})}getRateColor(u){return 0<=u&&2.5>u?"#d31818":2.5<=u&&4>u?"#F79321":4<=u&&5>=u?"#9fc43a":""}getTourImage(){this.http.get("/api/GetFile",{params:{resourceId:this.id,resourceType:1}}).subscribe(d=>{this.tourImage=d.data,this.tourImage.length>0&&this.pushImageToList(this.tourImage[0]),console.log(d)})}pushImageToList(u){this.firstImageUrl=c.N.backend.blobURL+"/1-container/1_"+u.id+u.fileType}navigateToDetail(){"User"==this.tokenStorageService.getUserRole()?this.router.navigate(["user/tour/"+this.id+"/detail"]):this.router.navigate(["guest/tour/"+this.id+"/detail"])}getTourName(u){return u.length<=32?u:u.substring(0,32)+"..."}}return x.\u0275fac=function(u){return new(u||x)(r.Y36(A.F0),r.Y36(a.i),r.Y36(R.eN))},x.\u0275cmp=r.Xpm({type:x,selectors:[["app-tourish-card"]],inputs:{score:"score",id:"id",judgeNumber:"judgeNumber",tourName:"tourName",tourPrice:"tourPrice",customerNumber:"customerNumber"},decls:17,vars:8,consts:[[1,"example-card",3,"click"],[1,"image-container"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],[1,"tour-name"],[1,"row",2,"margin-left","0 !important","display","flex","flex-direction","row-reverse","align-items","center","width","100%"],["class","tour-judge",4,"ngIf"],["class","tour-judge","style","margin-right: 7px",4,"ngIf"],[1,"tour-judge",2,"margin-right","7px","font-style","italic","font-weight","bold"],["style","\n          width: 30px;\n          height: 20px;\n          text-align: center;\n          color: white;\n          margin-right: 7px;\n          padding-top: 2px;\n        ",3,"ngStyle",4,"ngIf"],[1,"row",2,"margin-left","0 !important","display","flex","flex-direction","row-reverse","align-items","center","width","100%","margin-top","20px"],[1,"tour-price"],[1,"tour-history"],[1,"tour-judge"],[1,"tour-judge",2,"margin-right","7px"],[2,"width","30px","height","20px","text-align","center","color","white","margin-right","7px","padding-top","2px",3,"ngStyle"]],template:function(u,d){1&u&&(r.TgZ(0,"mat-card",0),r.NdJ("click",function(){return d.navigateToDetail()}),r.TgZ(1,"div",1),r._UZ(2,"img",2),r.qZA(),r.TgZ(3,"mat-card-content")(4,"p",3),r._uU(5),r.qZA(),r.TgZ(6,"div",4),r.YNc(7,B,2,1,"p",5),r.YNc(8,U,2,0,"p",6),r.TgZ(9,"p",7),r._uU(10),r.qZA(),r.YNc(11,P,2,4,"mat-card",8),r.qZA(),r.TgZ(12,"div",9)(13,"p",10),r._uU(14),r.qZA(),r.TgZ(15,"p",11),r._uU(16),r.qZA()()()()),2&u&&(r.xp6(2),r.s9C("src",d.firstImageUrl,r.LSH),r.xp6(3),r.Oqu(d.getTourName(d.tourName)),r.xp6(2),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(1),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(2),r.hij(" ",d.getRateString(d.score)," "),r.xp6(1),r.Q6J("ngIf",d.judgeNumber>0),r.xp6(3),r.hij("",d.tourPrice,"\u0111"),r.xp6(2),r.hij("",d.customerNumber," kh\xe1ch \u0111\xe3 \u0111\u1eb7t"))},dependencies:[w.a8,w.dn,w.G2,D.O5,D.PC],styles:[".example-card[_ngcontent-%COMP%]{width:360px;height:-moz-fit-content;height:fit-content;min-height:420px;white-space:nowrap}.example-card[_ngcontent-%COMP%]:hover{cursor:pointer}.tour-name[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:20px}.tour-judge[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0!important}.tour-history[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#d31818;background-color:#fceaea;padding:5px}.tour-price[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f79321;right:0!important;margin-left:10px}.image-container[_ngcontent-%COMP%]{height:270px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:360px}"]}),x})()}}]);